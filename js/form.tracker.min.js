/*! * Snowplow - The world's most powerful web analytics platform
 *
 * @description JavaScript tracker for Snowplow
 * @version     2.6.1
 * @author      Alex Dean, Simon Andersson, Anthon Pang, Fred Blundun, Joshua Beemster
 * @copyright   Anthon Pang, Snowplow Analytics Ltd
 * @license     Simplified BSD
 */(function t(e,o,r){function i(a,n){if(!o[a]){if(!e[a]){var c="function"==typeof require&&require;if(!n&&c)return c(a,!0);if(s)return s(a,!0);var d=new Error("Cannot find module '"+a+"'");throw d.code="MODULE_NOT_FOUND",d}var l=o[a]={exports:{}};e[a][0].call(l.exports,function(t){var n=e[a][1][t];return i(n?n:t)},l,l.exports,t,e,o,r)}return o[a].exports}for(var s="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i})({1:[function(require,module,exports){var JSON;JSON||(JSON={}),function(){function f(e){return 10>e?"0"+e:e}function quote(e){return escapable.lastIndex=0,escapable.test(e)?"\""+e.replace(escapable,function(e){var a=meta[e];return"string"==typeof a?a:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+"\"":"\""+e+"\""}function str(e,a){var t,n,o,r,s,c=gap,d=a[e];switch(d&&"object"==typeof d&&"function"==typeof d.toJSON&&(d=d.toJSON(e)),"function"==typeof rep&&(d=rep.call(a,e,d)),typeof d){case"string":return quote(d);case"number":return isFinite(d)?d+"":"null";case"boolean":case"null":return d+"";case"object":if(!d)return"null";if(gap+=indent,s=[],"[object Array]"===Object.prototype.toString.apply(d)){for(r=d.length,t=0;t<r;t+=1)s[t]=str(t,d)||"null";return o=0===s.length?"[]":gap?"[\n"+gap+s.join(",\n"+gap)+"\n"+c+"]":"["+s.join(",")+"]",gap=c,o}if(rep&&"object"==typeof rep)for(r=rep.length,t=0;t<r;t+=1)"string"==typeof rep[t]&&(n=rep[t],o=str(n,d),o&&s.push(quote(n)+(gap?": ":":")+o));else for(n in d)Object.prototype.hasOwnProperty.call(d,n)&&(o=str(n,d),o&&s.push(quote(n)+(gap?": ":":")+o));return o=0===s.length?"{}":gap?"{\n"+gap+s.join(",\n"+gap)+"\n"+c+"}":"{"+s.join(",")+"}",gap=c,o;}}var global=Function("return this")(),JSON=global.JSON;JSON||(JSON={}),"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var gap,indent,rep,cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,meta={"":"\\b","	":"\\t","\n":"\\n","":"\\f","\r":"\\r",'"':"\\\"","\\":"\\\\"};"function"!=typeof JSON.stringify&&(JSON.stringify=function(e,a,t){var n;if(gap="",indent="","number"==typeof t)for(n=0;n<t;n+=1)indent+=" ";else"string"==typeof t&&(indent=t);if(rep=a,a&&"function"!=typeof a&&("object"!=typeof a||"number"!=typeof a.length))throw new Error("JSON.stringify");return str("",{"":e})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(e,a){var t,n,o=e[a];if(o&&"object"==typeof o)for(t in o)Object.prototype.hasOwnProperty.call(o,t)&&(n=walk(o,t),void 0===n?delete o[t]:o[t]=n);return reviver.call(e,a,o)}var j;if(text+="",cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")}),global.JSON=JSON,module.exports=JSON}()},{}],2:[function(){this.cookie=function(e,a,t,n,o,r){return 1<arguments.length?document.cookie=e+"="+escape(a)+(t?"; expires="+new Date(+new Date+1e3*t).toUTCString():"")+(n?"; path="+n:"")+(o?"; domain="+o:"")+(r?"; secure":""):unescape((("; "+document.cookie).split("; "+e+"=")[1]||"").split(";")[0])}},{}],3:[function(e,t){var n={utf8:{stringToBytes:function(e){return n.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(n.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var a=[],t=0;t<e.length;t++)a.push(255&e.charCodeAt(t));return a},bytesToString:function(e){for(var a=[],t=0;t<e.length;t++)a.push(String.fromCharCode(e[t]));return a.join("")}}};t.exports=n},{}],4:[function(e,a){(function(){var e={rotl:function(e,a){return e<<a|e>>>32-a},rotr:function(e,a){return e<<32-a|e>>>a},endian:function(a){if(a.constructor==Number)return 16711935&e.rotl(a,8)|4278255360&e.rotl(a,24);for(var t=0;t<a.length;t++)a[t]=e.endian(a[t]);return a},randomBytes:function(e){for(var a=[];0<e;e--)a.push(Math.floor(256*Math.random()));return a},bytesToWords:function(e){for(var a=[],t=0,n=0;t<e.length;t++,n+=8)a[n>>>5]|=e[t]<<24-n%32;return a},wordsToBytes:function(e){for(var a=[],t=0;t<32*e.length;t+=8)a.push(255&e[t>>>5]>>>24-t%32);return a},bytesToHex:function(e){for(var a=[],t=0;t<e.length;t++)a.push((e[t]>>>4).toString(16)),a.push((15&e[t]).toString(16));return a.join("")},hexToBytes:function(e){for(var a=[],t=0;t<e.length;t+=2)a.push(parseInt(e.substr(t,2),16));return a},bytesToBase64:function(e){for(var a,t=[],o=0;o<e.length;o+=3){a=e[o]<<16|e[o+1]<<8|e[o+2];for(var r=0;4>r;r++)8*o+6*r<=8*e.length?t.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(63&a>>>6*(3-r))):t.push("=")}return t.join("")},base64ToBytes:function(e){var a=Math.pow;e=e.replace(/[^A-Z0-9+\/]/ig,"");for(var t=[],n=0,o=0;n<e.length;o=++n%4)0!=o&&t.push(("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(e.charAt(n-1))&a(2,-2*o+8)-1)<<2*o|"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(e.charAt(n))>>>6-2*o);return t}};a.exports=e})()},{}],5:[function(e,t,n){(function(e){var a=function(){var e=function(e){var a=-e.getTimezoneOffset();return null===a?0:a},t=function(e,a,n){var o=new Date;return void 0!==e&&o.setFullYear(e),o.setMonth(a),o.setDate(n),o},o=function(a){return e(t(a,0,2))},i=function(a){return e(t(a,5,2))},n=function(){var e=o(),a=i(),t=e-a;if(0>t)return e+",1";return 0<t?a+",1,s":e+",0"};return{determine:function(){var e=n();return new a.TimeZone(a.olson.timezones[e])},date_is_dst:function(a){var n=7<a.getMonth(),r=n?i(a.getFullYear()):o(a.getFullYear()),s=e(a),c=r-s;return 0>r||n?0!==c:0>c},dst_start_for:function(e){var a=new Date(2010,6,15,1,0,0,0),t={"America/Denver":new Date(2011,2,13,3,0,0,0),"America/Mazatlan":new Date(2011,3,3,3,0,0,0),"America/Chicago":new Date(2011,2,13,3,0,0,0),"America/Mexico_City":new Date(2011,3,3,3,0,0,0),"America/Asuncion":new Date(2012,9,7,3,0,0,0),"America/Santiago":new Date(2012,9,3,3,0,0,0),"America/Campo_Grande":new Date(2012,9,21,5,0,0,0),"America/Montevideo":new Date(2011,9,2,3,0,0,0),"America/Sao_Paulo":new Date(2011,9,16,5,0,0,0),"America/Los_Angeles":new Date(2011,2,13,8,0,0,0),"America/Santa_Isabel":new Date(2011,3,5,8,0,0,0),"America/Havana":new Date(2012,2,10,2,0,0,0),"America/New_York":new Date(2012,2,10,7,0,0,0),"Europe/Helsinki":new Date(2013,2,31,5,0,0,0),"Pacific/Auckland":new Date(2011,8,26,7,0,0,0),"America/Halifax":new Date(2011,2,13,6,0,0,0),"America/Goose_Bay":new Date(2011,2,13,2,1,0,0),"America/Miquelon":new Date(2011,2,13,5,0,0,0),"America/Godthab":new Date(2011,2,27,1,0,0,0),"Europe/Moscow":a,"Asia/Amman":new Date(2013,2,29,1,0,0,0),"Asia/Beirut":new Date(2013,2,31,2,0,0,0),"Asia/Damascus":new Date(2013,3,6,2,0,0,0),"Asia/Jerusalem":new Date(2013,2,29,5,0,0,0),"Asia/Yekaterinburg":a,"Asia/Omsk":a,"Asia/Krasnoyarsk":a,"Asia/Irkutsk":a,"Asia/Yakutsk":a,"Asia/Vladivostok":a,"Asia/Baku":new Date(2013,2,31,4,0,0),"Asia/Yerevan":new Date(2013,2,31,3,0,0),"Asia/Kamchatka":a,"Asia/Gaza":new Date(2010,2,27,4,0,0),"Africa/Cairo":new Date(2010,4,1,3,0,0),"Europe/Minsk":a,"Pacific/Apia":new Date(2010,10,1,1,0,0,0),"Pacific/Fiji":new Date(2010,11,1,0,0,0),"Australia/Perth":new Date(2008,10,1,1,0,0,0)};return t[e]}}}();a.TimeZone=function(e){var t={"America/Denver":["America/Denver","America/Mazatlan"],"America/Chicago":["America/Chicago","America/Mexico_City"],"America/Santiago":["America/Santiago","America/Asuncion","America/Campo_Grande"],"America/Montevideo":["America/Montevideo","America/Sao_Paulo"],"Asia/Beirut":["Asia/Amman","Asia/Jerusalem","Asia/Beirut","Europe/Helsinki","Asia/Damascus"],"Pacific/Auckland":["Pacific/Auckland","Pacific/Fiji"],"America/Los_Angeles":["America/Los_Angeles","America/Santa_Isabel"],"America/New_York":["America/Havana","America/New_York"],"America/Halifax":["America/Goose_Bay","America/Halifax"],"America/Godthab":["America/Miquelon","America/Godthab"],"Asia/Dubai":["Europe/Moscow"],"Asia/Dhaka":["Asia/Yekaterinburg"],"Asia/Jakarta":["Asia/Omsk"],"Asia/Shanghai":["Asia/Krasnoyarsk","Australia/Perth"],"Asia/Tokyo":["Asia/Irkutsk"],"Australia/Brisbane":["Asia/Yakutsk"],"Pacific/Noumea":["Asia/Vladivostok"],"Pacific/Tarawa":["Asia/Kamchatka","Pacific/Fiji"],"Pacific/Tongatapu":["Pacific/Apia"],"Asia/Baghdad":["Europe/Minsk"],"Asia/Baku":["Asia/Yerevan","Asia/Baku"],"Africa/Johannesburg":["Asia/Gaza","Africa/Cairo"]},r=e,n=function(){for(var e=t[r],i=e.length,o=0,s=e[0];o<i;o+=1)if(s=e[o],a.date_is_dst(a.dst_start_for(s)))return void(r=s)},o=function(){return"undefined"!=typeof t[r]};return o()&&n(),{name:function(){return r}}},a.olson={},a.olson.timezones={"-720,0":"Pacific/Majuro","-660,0":"Pacific/Pago_Pago","-600,1":"America/Adak","-600,0":"Pacific/Honolulu","-570,0":"Pacific/Marquesas","-540,0":"Pacific/Gambier","-540,1":"America/Anchorage","-480,1":"America/Los_Angeles","-480,0":"Pacific/Pitcairn","-420,0":"America/Phoenix","-420,1":"America/Denver","-360,0":"America/Guatemala","-360,1":"America/Chicago","-360,1,s":"Pacific/Easter","-300,0":"America/Bogota","-300,1":"America/New_York","-270,0":"America/Caracas","-240,1":"America/Halifax","-240,0":"America/Santo_Domingo","-240,1,s":"America/Santiago","-210,1":"America/St_Johns","-180,1":"America/Godthab","-180,0":"America/Argentina/Buenos_Aires","-180,1,s":"America/Montevideo","-120,0":"America/Noronha","-120,1":"America/Noronha","-60,1":"Atlantic/Azores","-60,0":"Atlantic/Cape_Verde","0,0":"UTC","0,1":"Europe/London","60,1":"Europe/Berlin","60,0":"Africa/Lagos","60,1,s":"Africa/Windhoek","120,1":"Asia/Beirut","120,0":"Africa/Johannesburg","180,0":"Asia/Baghdad","180,1":"Europe/Moscow","210,1":"Asia/Tehran","240,0":"Asia/Dubai","240,1":"Asia/Baku","270,0":"Asia/Kabul","300,1":"Asia/Yekaterinburg","300,0":"Asia/Karachi","330,0":"Asia/Kolkata","345,0":"Asia/Kathmandu","360,0":"Asia/Dhaka","360,1":"Asia/Omsk","390,0":"Asia/Rangoon","420,1":"Asia/Krasnoyarsk","420,0":"Asia/Jakarta","480,0":"Asia/Shanghai","480,1":"Asia/Irkutsk","525,0":"Australia/Eucla","525,1,s":"Australia/Eucla","540,1":"Asia/Yakutsk","540,0":"Asia/Tokyo","570,0":"Australia/Darwin","570,1,s":"Australia/Adelaide","600,0":"Australia/Brisbane","600,1":"Asia/Vladivostok","600,1,s":"Australia/Sydney","630,1,s":"Australia/Lord_Howe","660,1":"Asia/Kamchatka","660,0":"Pacific/Noumea","690,0":"Pacific/Norfolk","720,1,s":"Pacific/Auckland","720,0":"Pacific/Tarawa","765,1,s":"Pacific/Chatham","780,0":"Pacific/Tongatapu","780,1,s":"Pacific/Apia","840,0":"Pacific/Kiritimati"},"undefined"==typeof n?e.jstz=a:n.jstz=a})(this)},{}],6:[function(e,a){(function(){function e(e,a){var t,i,s,c,d,p,g,h;for(t=3&e.length,i=e.length-t,s=a,d=3432918353,p=461845907,h=0;h<i;)g=255&e.charCodeAt(h)|(255&e.charCodeAt(++h))<<8|(255&e.charCodeAt(++h))<<16|(255&e.charCodeAt(++h))<<24,++h,g=4294967295&(65535&g)*d+((65535&(g>>>16)*d)<<16),g=g<<15|g>>>17,g=4294967295&(65535&g)*p+((65535&(g>>>16)*p)<<16),s^=g,s=s<<13|s>>>19,c=4294967295&5*(65535&s)+((65535&5*(s>>>16))<<16),s=(65535&c)+27492+((65535&(c>>>16)+58964)<<16);switch(g=0,t){case 3:g^=(255&e.charCodeAt(h+2))<<16;case 2:g^=(255&e.charCodeAt(h+1))<<8;case 1:g^=255&e.charCodeAt(h),g=4294967295&(65535&g)*d+((65535&(g>>>16)*d)<<16),g=g<<15|g>>>17,g=4294967295&(65535&g)*p+((65535&(g>>>16)*p)<<16),s^=g;}return s^=e.length,s^=s>>>16,s=4294967295&2246822507*(65535&s)+((65535&2246822507*(s>>>16))<<16),s^=s>>>13,s=4294967295&3266489909*(65535&s)+((65535&3266489909*(s>>>16))<<16),s^=s>>>16,s>>>0}var t=this,n=e;if(n.v2=function(e,a){for(var t,r=e.length,i=a^r,s=0;4<=r;)t=255&e.charCodeAt(s)|(255&e.charCodeAt(++s))<<8|(255&e.charCodeAt(++s))<<16|(255&e.charCodeAt(++s))<<24,t=1540483477*(65535&t)+((65535&1540483477*(t>>>16))<<16),t^=t>>>24,t=1540483477*(65535&t)+((65535&1540483477*(t>>>16))<<16),i=1540483477*(65535&i)+((65535&1540483477*(i>>>16))<<16)^t,r-=4,++s;switch(r){case 3:i^=(255&e.charCodeAt(s+2))<<16;case 2:i^=(255&e.charCodeAt(s+1))<<8;case 1:i^=255&e.charCodeAt(s),i=1540483477*(65535&i)+((65535&1540483477*(i>>>16))<<16);}return i^=i>>>13,i=1540483477*(65535&i)+((65535&1540483477*(i>>>16))<<16),i^=i>>>15,i>>>0},n.v3=e,"undefined"!=typeof a)a.exports=n;else{var o=t.murmur;n.noConflict=function(){return t.murmur=o,n},t.murmur=n}})()},{}],7:[function(e,a){(function(){var t=e("crypt"),n=e("charenc").utf8,o=e("charenc").bin,r=function(e){e.constructor==String&&(e=n.stringToBytes(e));var a=t.bytesToWords(e),i=8*e.length,c=[],s=1732584193,d=-271733879,l=-1732584194,m=271733878,g=-1009589776;a[i>>5]|=128<<24-i%32,a[(i+64>>>9<<4)+15]=i;for(var h=0;h<a.length;h+=16){for(var f=s,b=d,A=l,w=m,T=g,_=0;80>_;_++){if(16>_)c[_]=a[h+_];else{var P=c[_-3]^c[_-8]^c[_-14]^c[_-16];c[_]=P<<1|P>>>31}var y=(s<<5|s>>>27)+g+(c[_]>>>0)+(20>_?(d&l|~d&m)+1518500249:40>_?(d^l^m)+1859775393:60>_?(d&l|d&m|l&m)-1894007588:(d^l^m)-899497514);g=m,m=l,l=d<<30|d>>>2,d=s,s=y}s+=f,d+=b,l+=A,m+=w,g+=T}return[s,d,l,m,g]},i=function(e,a){var n=t.wordsToBytes(r(e));return a&&a.asBytes?n:a&&a.asString?o.bytesToString(n):t.bytesToHex(n)};i._blocksize=16,i._digestsize=20,a.exports=i})()},{charenc:3,crypt:4}],8:[function(e,a){a.exports=e("./lib/core")},{"./lib/core":10}],9:[function(e,t,n){(function(){var e="undefined"==typeof n?this:n;e.base64encode=function(e){var a,r,i,c,d,m,f,y,b=0,A=0,T="",C=[];if(!e)return e;e=unescape(encodeURIComponent(e));do a=e.charCodeAt(b++),r=e.charCodeAt(b++),i=e.charCodeAt(b++),y=a<<16|r<<8|i,c=63&y>>18,d=63&y>>12,m=63&y>>6,f=63&y,C[A++]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(c)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(d)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(m)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(f);while(b<e.length);T=C.join("");var n=e.length%3;return(n?T.slice(0,n-3):T)+"===".slice(n||3)}})()},{}],10:[function(e,a){var n=e("./payload.js"),t=e("uuid");a.exports=function(e,a){function s(e,a){o[e]=a}function c(e,a){var n={};for(var o in a=a||{},e)(a[o]||null!==e[o]&&"undefined"!=typeof e[o])&&(n[o]=e[o]);return n}function d(e){if(e&&e.length)return{schema:"iglu:com.snowplowanalytics.snowplow/contexts/jsonschema/1-0-0",data:e}}function l(e,n,r){return e.addDict(o),e.add("eid",t.v4()),e.add("dtm",r||new Date().getTime()),n&&e.addJson("cx","co",d(n)),"function"==typeof a&&a(e),e}function i(a,t,o){var r=n.payloadBuilder(e);return r.add("e","ue"),r.addJson("ue_px","ue_pr",{schema:"iglu:com.snowplowanalytics.snowplow/unstruct_event/jsonschema/1-0-0",data:a}),l(r,t,o)}"undefined"==typeof e&&(e=!0);var o={};return{setBase64Encoding:function(a){e=a},addPayloadPair:s,addPayloadDict:function(e){for(var a in e)e.hasOwnProperty(a)&&(o[a]=e[a])},resetPayloadPairs:function(e){o=n.isJson(e)?e:{}},setTrackerVersion:function(e){s("tv",e)},setTrackerNamespace:function(e){s("tna",e)},setAppId:function(e){s("aid",e)},setPlatform:function(e){s("p",e)},setUserId:function(e){s("uid",e)},setScreenResolution:function(e,a){s("res",e+"x"+a)},setViewport:function(e,a){s("vp",e+"x"+a)},setColorDepth:function(e){s("cd",e)},setTimezone:function(e){s("tz",e)},setLang:function(e){s("lang",e)},setIpAddress:function(e){s("ip",e)},trackUnstructEvent:i,trackPageView:function(a,o,t,i,r){var s=n.payloadBuilder(e);return s.add("e","pv"),s.add("url",a),s.add("page",o),s.add("refr",t),l(s,i,r)},trackPagePing:function(a,o,t,i,s,c,r,d,u){var p=n.payloadBuilder(e);return p.add("e","pp"),p.add("url",a),p.add("page",o),p.add("refr",t),p.add("pp_mix",i),p.add("pp_max",s),p.add("pp_miy",c),p.add("pp_may",r),l(p,d,u)},trackStructEvent:function(a,t,o,r,i,c,s){var d=n.payloadBuilder(e);return d.add("e","se"),d.add("se_ca",a),d.add("se_ac",t),d.add("se_la",o),d.add("se_pr",r),d.add("se_va",i),l(d,c,s)},trackEcommerceTransaction:function(a,o,i,c,t,d,u,r,p,m,s){var g=n.payloadBuilder(e);return g.add("e","tr"),g.add("tr_id",a),g.add("tr_af",o),g.add("tr_tt",i),g.add("tr_tx",c),g.add("tr_sh",t),g.add("tr_ci",d),g.add("tr_st",u),g.add("tr_co",r),g.add("tr_cu",p),l(g,m,s)},trackEcommerceTransactionItem:function(a,t,o,i,r,c,d,u,s){var p=n.payloadBuilder(e);return p.add("e","ti"),p.add("ti_id",a),p.add("ti_sk",t),p.add("ti_nm",o),p.add("ti_ca",i),p.add("ti_pr",r),p.add("ti_qu",c),p.add("ti_cu",d),l(p,u,s)},trackScreenView:function(e,a,t,n){return i({schema:"iglu:com.snowplowanalytics.snowplow/screen_view/jsonschema/1-0-0",data:c({name:e,id:a})},t,n)},trackLinkClick:function(e,a,n,o,r,s,d){var l={schema:"iglu:com.snowplowanalytics.snowplow/link_click/jsonschema/1-0-1",data:c({targetUrl:e,elementId:a,elementClasses:n,elementTarget:o,elementContent:r})};return i(l,s,d)},trackAdImpression:function(e,a,n,o,t,s,d,l,u,r){var p={schema:"iglu:com.snowplowanalytics.snowplow/ad_impression/jsonschema/1-0-0",data:c({impressionId:e,costModel:a,cost:n,targetUrl:o,bannerId:t,zoneId:s,advertiserId:d,campaignId:l})};return i(p,u,r)},trackAdClick:function(e,a,n,o,t,s,d,l,u,p,r){var m={schema:"iglu:com.snowplowanalytics.snowplow/ad_click/jsonschema/1-0-0",data:c({targetUrl:e,clickId:a,costModel:n,cost:o,bannerId:t,zoneId:s,impressionId:d,advertiserId:l,campaignId:u})};return i(m,p,r)},trackAdConversion:function(e,a,n,t,o,s,d,l,u,p,r){var m={schema:"iglu:com.snowplowanalytics.snowplow/ad_conversion/jsonschema/1-0-0",data:c({conversionId:e,costModel:a,cost:n,category:t,action:o,property:s,initialValue:d,advertiserId:l,campaignId:u})};return i(m,p,r)},trackSocialInteraction:function(e,a,t,n,o){var s={schema:"iglu:com.snowplowanalytics.snowplow/social_interaction/jsonschema/1-0-0",data:c({action:e,network:a,target:t})};return i(s,n,o)},trackAddToCart:function(e,a,n,o,s,d,r,t){return i({schema:"iglu:com.snowplowanalytics.snowplow/add_to_cart/jsonschema/1-0-0",data:c({sku:e,name:a,category:n,unitPrice:o,quantity:s,currency:d})},r,t)},trackRemoveFromCart:function(e,a,n,o,s,d,r,t){return i({schema:"iglu:com.snowplowanalytics.snowplow/remove_from_cart/jsonschema/1-0-0",data:c({sku:e,name:a,category:n,unitPrice:o,quantity:s,currency:d})},r,t)},trackFormChange:function(e,a,n,o,r,s,d,t){return i({schema:"iglu:com.snowplowanalytics.snowplow/change_form/jsonschema/1-0-0",data:c({formId:e,elementId:a,nodeName:n,type:o,elementClasses:r,value:s},{value:!0})},d,t)},trackFormSubmission:function(e,a,n,t,o){return i({schema:"iglu:com.snowplowanalytics.snowplow/submit_form/jsonschema/1-0-0",data:c({formId:e,formClasses:a,elements:n})},t,o)},trackSiteSearch:function(e,a,n,o,r,t){return i({schema:"iglu:com.snowplowanalytics.snowplow/site_search/jsonschema/1-0-0",data:c({terms:e,filters:a,totalResults:n,pageResults:o})},r,t)}}}},{"./payload.js":11,uuid:14}],11:[function(e,t,n){(function(){function a(e){if(!e)return e;var a=o.base64encode(e);return a.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}var t=e("JSON"),o=e("./base64"),s="undefined"==typeof n?this:n;s.isJson=function(e){return"undefined"!=typeof e&&null!==e&&(e.constructor==={}.constructor||e.constructor===[].constructor)},s.isNonEmptyJson=function(e){if(!s.isJson(e))return!1;for(var a in e)if(e.hasOwnProperty(a))return!0;return!1},s.payloadBuilder=function(e){var r={},n=function(e,a){a!==void 0&&null!==a&&""!==a&&(r[e]=a)};return{add:n,addDict:function(e){for(var a in e)e.hasOwnProperty(a)&&n(a,e[a])},addJson:function(i,o,c){if(s.isNonEmptyJson(c)){var d=t.stringify(c);e?n(i,a(d)):n(o,d)}},build:function(){return r}}}})()},{"./base64":9,JSON:1}],12:[function(e,a){a.exports=Array},{}],13:[function(e,a){(function(e){var t;if(e.crypto&&crypto.getRandomValues){var n=new Uint8Array(16);t=function(){return crypto.getRandomValues(n),n}}if(!t){var o=Array(16);t=function(){for(var e,a=0;16>a;a++)0==(3&a)&&(e=4294967296*Math.random()),o[a]=255&e>>>((3&a)<<3);return o}}a.exports=t}).call(this,"undefined"==typeof global?"undefined"==typeof self?"undefined"==typeof window?{}:window:self:global)},{}],14:[function(e,n){function i(e,a){var t=a||0,n=o;return n[e[t++]]+n[e[t++]]+n[e[t++]]+n[e[t++]]+"-"+n[e[t++]]+n[e[t++]]+"-"+n[e[t++]]+n[e[t++]]+"-"+n[e[t++]]+n[e[t++]]+"-"+n[e[t++]]+n[e[t++]]+n[e[t++]]+n[e[t++]]+n[e[t++]]+n[e[t++]]}function c(e,a,t){var n=a&&t||0,o=a||[];e=e||{};var r=void 0===e.clockseq?s:e.clockseq,c=void 0===e.msecs?new Date().getTime():e.msecs,d=void 0===e.nsecs?T+1:e.nsecs,l=c-f+(d-T)/1e4;if(0>l&&void 0===e.clockseq&&(r=16383&r+1),(0>l||c>f)&&void 0===e.nsecs&&(d=0),1e4<=d)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");f=c,T=d,s=r,c+=122192928e5;var u=(1e4*(268435455&c)+d)%4294967296;o[n++]=255&u>>>24,o[n++]=255&u>>>16,o[n++]=255&u>>>8,o[n++]=255&u;var p=268435455&1e4*(c/4294967296);o[n++]=255&p>>>8,o[n++]=255&p,o[n++]=16|15&p>>>24,o[n++]=255&p>>>16,o[n++]=128|r>>>8,o[n++]=255&r;for(var m=e.node||h,g=0;6>g;g++)o[n+g]=m[g];return a?a:i(o)}function d(e,t,n){var o=t&&n||0;"string"==typeof e&&(t="binary"==e?new l(16):null,e=null),e=e||{};var r=e.random||(e.rng||a)();if(r[6]=64|15&r[6],r[8]=128|63&r[8],t)for(var s=0;16>s;s++)t[o+s]=r[s];return t||i(r)}for(var a=e("./rng"),l=e("./buffer"),o=[],u={},m=0;256>m;m++)o[m]=(m+256).toString(16).substr(1),u[o[m]]=m;var g=a(),h=[1|g[0],g[1],g[2],g[3],g[4],g[5]],s=16383&(g[6]<<8|g[7]),f=0,T=0,y=d;y.v1=c,y.v4=d,y.parse=function(e,a,t){var n=a&&t||0,o=0;for(a=a||[],e.toLowerCase().replace(/[0-9a-f]{2}/g,function(e){16>o&&(a[n+o++]=u[e])});16>o;)a[n+o++]=0;return a},y.unparse=i,y.BufferClass=l,n.exports=y},{"./buffer":12,"./rng":13}],15:[function(e,t,n){arguments[4][13][0].apply(n,arguments)},{dup:13}],16:[function(e,i){function c(e,a){var t=a||0,n=d;return n[e[t++]]+n[e[t++]]+n[e[t++]]+n[e[t++]]+"-"+n[e[t++]]+n[e[t++]]+"-"+n[e[t++]]+n[e[t++]]+"-"+n[e[t++]]+n[e[t++]]+"-"+n[e[t++]]+n[e[t++]]+n[e[t++]]+n[e[t++]]+n[e[t++]]+n[e[t++]]}function n(e,a,n){var o=a&&n||0,r=a||[];e=e||{};var i=void 0===e.clockseq?f:e.clockseq,s=void 0===e.msecs?new Date().getTime():e.msecs,d=void 0===e.nsecs?T+1:e.nsecs,l=s-b+(d-T)/1e4;if(0>l&&void 0===e.clockseq&&(i=16383&i+1),(0>l||s>b)&&void 0===e.nsecs&&(d=0),1e4<=d)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");b=s,T=d,f=i,s+=122192928e5;var p=(1e4*(268435455&s)+d)%4294967296;r[o++]=255&p>>>24,r[o++]=255&p>>>16,r[o++]=255&p>>>8,r[o++]=255&p;var m=268435455&1e4*(s/4294967296);r[o++]=255&m>>>8,r[o++]=255&m,r[o++]=16|15&m>>>24,r[o++]=255&m>>>16,r[o++]=128|i>>>8,r[o++]=255&i;for(var g=e.node||t,h=0;6>h;h++)r[o+h]=g[h];return a?a:c(r)}function s(e,a,t){var n=a&&t||0;"string"==typeof e&&(a="binary"==e?Array(16):null,e=null),e=e||{};var o=e.random||(e.rng||p)();if(o[6]=64|15&o[6],o[8]=128|63&o[8],a)for(var r=0;16>r;r++)a[n+r]=o[r];return a||c(o)}for(var p=e("./rng"),d=[],r={},u=0;256>u;u++)d[u]=(u+256).toString(16).substr(1),r[d[u]]=u;var h=p(),t=[1|h[0],h[1],h[2],h[3],h[4],h[5]],f=16383&(h[6]<<8|h[7]),b=0,T=0,y=s;y.v1=n,y.v4=s,y.parse=function(e,a,t){var n=a&&t||0,o=0;for(a=a||[],e.toLowerCase().replace(/[0-9a-f]{2}/g,function(e){16>o&&(a[n+o++]=r[e])});16>o;)a[n+o++]=0;return a},y.unparse=c,i.exports=y},{"./rng":15}],17:[function(e,t,n){var a=e("./lib_managed/lodash"),c=e("./lib/helpers"),o="undefined"==typeof n?this:n;o.getFormTrackingManager=function(e,d,l){function o(e){return e[a.find(["name","id","type","nodeName"],function(a){return e[a]&&"string"==typeof e[a]})]}function m(e){for(;e&&e.nodeName&&"HTML"!==e.nodeName.toUpperCase()&&"FORM"!==e.nodeName.toUpperCase();)e=e.parentNode;if(e&&e.nodeName&&"FORM"===e.nodeName.toUpperCase())return o(e)}function t(e){var t=[];return a.forEach(p,function(n){var i=a.filter(e.getElementsByTagName(n),function(e){return e.hasOwnProperty(r)});a.forEach(i,function(e){if("submit"!==e.type){var a={name:o(e),value:e.value,nodeName:e.nodeName};e.type&&"INPUT"===e.nodeName.toUpperCase()&&(a.type=e.type),"checkbox"!==e.type&&"radio"!==e.type||e.checked||(a.value=null),t.push(a)}})}),t}function i(a){return function(t){var n=t.target,r=n.nodeName&&"INPUT"===n.nodeName.toUpperCase()?n.type:null,i="checkbox"!==n.type||n.checked?n.value:null;e.trackFormChange(m(n),o(n),n.nodeName,r,c.getCssClasses(n),i,l(a))}}function n(a){return function(n){var r=n.target,i=t(r);e.trackFormSubmission(o(r),c.getCssClasses(r),i,l(a))}}var p=["textarea","input","select"],r=d+"form",g=function(){return!0},h=function(){return!0};return{configureFormTracking:function(e){e&&(g=c.getFilter(e.forms,!0),h=c.getFilter(e.fields,!1))},addFormListeners:function(e){a.forEach(document.getElementsByTagName("form"),function(t){g(t)&&!t[r]&&(a.forEach(p,function(n){a.forEach(t.getElementsByTagName(n),function(a){h(a)&&!a[r]&&(c.addEventListener(a,"change",i(e),!1),a[r]=!0)})}),c.addEventListener(t,"submit",n(e)),t[r]=!0)})}}}},{"./lib/helpers":21,"./lib_managed/lodash":23}],18:[function(e,t,n){(function(){var a=e("./lib_managed/lodash"),c=e("./lib/helpers"),t=e("uuid"),o="undefined"==typeof n?this:n;o.InQueueManager=function(e,d,r,i,n){function s(e){var t=[];if(!e||0===e.length)t=a.map(o);else for(var n=0;n<e.length;n++)o.hasOwnProperty(e[n])?t.push(o[e[n]]):c.warn("Warning: Tracker namespace \""+e[n]+"\" not configured");return 0===t.length&&c.warn("Warning: No tracker configured"),t}function u(e,t,n){c.warn(e+" is deprecated. Set the collector when a new tracker instance using newTracker.");var r;r=a.isUndefined(n)?"sp":n,m(r),o[r][e](t)}function m(a,t,s){s=s||{},o.hasOwnProperty(a)?c.warn("Tracker namespace "+a+" already exists."):(o[a]=new e(n,a,d,f,r,s),o[a].setCollectorUrl(t))}function g(e){var a=e.split(":"),t=a[0],n=1<a.length?a[1].split(";"):[];return[t,n]}function h(){var e,t,n,r,i,c,d,l;for(e=0;e<arguments.length;e+=1){if(r=arguments[e],i=Array.prototype.shift.call(r),a.isFunction(i)){i.apply(o,r);continue}if(c=g(i),n=c[0],d=c[1],"newTracker"===n){m(r[0],r[1],r[2]);continue}if(("setCollectorCf"===n||"setCollectorUrl"===n)&&(!d||0===d.length)){u(n,r[0],r[1]);continue}for(l=s(d),t=0;t<l.length;t++)l[t][n].apply(l[t],r)}}for(var f=t.v4(),o={},l=0;l<i.length;l++)h(i[l]);return{push:h}}})()},{"./lib/helpers":21,"./lib_managed/lodash":23,uuid:16}],19:[function(e){var t,n,o=e("./snowplow"),r=window;r.FA&&0<r.FA.length?(t=r.FA.shift(),n=r[t],n.q=new o.Snowplow(n.q,t)):(r._snaq=r._snaq||[],r._snaq=new o.Snowplow(r._snaq,"_snaq"))},{"./snowplow":26}],20:[function(e,t,o){(function(){var a=e("../lib_managed/lodash"),n=e("murmurhash").v3,t=e("jstimezonedetect").jstz.determine(),r=e("browser-cookie-lite"),c="undefined"==typeof o?this:o,i=window,l=navigator,d=screen,u=document;c.hasSessionStorage=function(){try{return!!i.sessionStorage}catch(e){return!0}},c.hasLocalStorage=function(){try{return!!i.localStorage}catch(e){return!0}},c.localStorageAccessible=function(){if(!c.hasLocalStorage())return!1;try{return i.localStorage.setItem("modernizr","modernizr"),i.localStorage.removeItem("modernizr"),!0}catch(e){return!1}},c.hasCookies=function(e){var t=e||"testcookie";return a.isUndefined(l.cookieEnabled)?(r.cookie(t,"1"),"1"===r.cookie(t)?"1":"0"):l.cookieEnabled?"1":"0"},c.detectSignature=function(e){var a=[l.userAgent,[d.height,d.width,d.colorDepth].join("x"),new Date().getTimezoneOffset(),c.hasSessionStorage(),c.hasLocalStorage()],t=[];if(l.plugins)for(var o,r=0;r<l.plugins.length;r++){o=[];for(var i=0;i<l.plugins[r].length;i++)o.push([l.plugins[r][i].type,l.plugins[r][i].suffixes]);t.push([l.plugins[r].name+"::"+l.plugins[r].description,o.join("~")])}return n(a.join("###")+"###"+t.sort().join(";"),e)},c.detectTimezone=function(){return"undefined"==typeof t?"":t.name()},c.detectViewport=function(){var e=i,a="inner";return"innerWidth"in i||(a="client",e=u.documentElement||u.body),e[a+"Width"]+"x"+e[a+"Height"]},c.detectDocumentSize=function(){var e=Math.max,a=u.documentElement,t=u.body,n=t?e(t.offsetHeight,t.scrollHeight):0,r=e(a.clientWidth,a.offsetWidth,a.scrollWidth),o=e(a.clientHeight,a.offsetHeight,a.scrollHeight,n);return isNaN(r)||isNaN(o)?"":r+"x"+o},c.detectBrowserFeatures=function(e,n){var u,p,m={pdf:"application/pdf",qt:"video/quicktime",realp:"audio/x-pn-realaudio-plugin",wma:"application/x-mplayer2",dir:"application/x-director",fla:"application/x-shockwave-flash",java:"application/x-java-vm",gears:"application/x-googlegears",ag:"application/x-silverlight"},t={};if(l.mimeTypes&&l.mimeTypes.length)for(u in m)Object.prototype.hasOwnProperty.call(m,u)&&(p=l.mimeTypes[m[u]],t[u]=p&&p.enabledPlugin?"1":"0");return"unknown"!=typeof l.javaEnabled&&!a.isUndefined(l.javaEnabled)&&l.javaEnabled()&&(t.java="1"),a.isFunction(i.GearsFactory)&&(t.gears="1"),t.res=d.width+"x"+d.height,t.cd=d.colorDepth,e&&(t.cookie=c.hasCookies(n)),t}})()},{"../lib_managed/lodash":23,"browser-cookie-lite":2,jstimezonedetect:5,murmurhash:6}],21:[function(e,t,n){(function(){function a(e,a){var t,n=c.getCssClasses(e);for(t=0;t<n.length;t++)if(a[n[t]])return!0;return!1}var t=e("../lib_managed/lodash"),s=e("browser-cookie-lite"),c="undefined"==typeof n?this:n;c.fixupTitle=function(e){if(!t.isString(e)){e=e.text||"";var a=document.getElementsByTagName("title");a&&!t.isUndefined(a[0])&&(e=a[0].text)}return e},c.getHostName=function(e){var a=/^(?:(?:https?|ftp):)\/*(?:[^@]+@)?([^:/#]+)/.exec(e);return a?a[1]:e},c.fixupDomain=function(e){var a=e.length;return"."===e.charAt(--a)&&(e=e.slice(0,a)),"*."===e.slice(0,2)&&(e=e.slice(1)),e},c.getReferrer=function(e){var a="",t=c.fromQuerystring("referrer",window.location.href)||c.fromQuerystring("referer",window.location.href);if(t)return t;if(e)return e;try{a=window.top.document.referrer}catch(e){if(window.parent)try{a=window.parent.document.referrer}catch(e){a=""}}return""===a&&(a=document.referrer),a},c.addEventListener=function(e,a,t,n){return e.addEventListener?(e.addEventListener(a,t,n),!0):e.attachEvent?e.attachEvent("on"+a,t):void(e["on"+a]=t)},c.fromQuerystring=function(e,a){var t=new RegExp("^[^#]*[?&]"+e+"=([^&#]*)").exec(a);return t?decodeURIComponent(t[1].replace(/\+/g," ")):null},c.warn=function(e){"undefined"!=typeof console&&console.warn("Snowplow: "+e)},c.getCssClasses=function(e){return e.className.match(/\S+/g)||[]},c.getFilter=function(e,o){if(t.isArray(e)||!t.isObject(e))return function(){return!0};if(e.hasOwnProperty("filter"))return e.filter;var r=e.hasOwnProperty("whitelist"),i=e.whitelist||e.blacklist;t.isArray(i)||(i=[i]);for(var s={},c=0;c<i.length;c++)s[i[c]]=!0;return o?function(e){return a(e,s)===r}:function(e){return e.name in s===r}},c.decorateQuerystring=function(e,a,i){var t=a+"="+i,r=e.split("#"),c=r[0].split("?"),d=c.shift(),l=c.join("?");if(!l)l=t;else{for(var p=!0,m=l.split("&"),s=0;s<m.length;s++)if(m[s].substr(0,a.length+1)===a+"="){p=!1,m[s]=t,l=m.join("&");break}p&&(l=t+"&"+l)}return r[0]=d+"?"+l,r.join("#")},c.attemptGetLocalStorage=function(e){try{return localStorage.getItem(e)}catch(e){}},c.attemptWriteLocalStorage=function(e,a){try{return localStorage.setItem(e,a),!0}catch(e){return!1}},c.findRootDomain=function(){for(var e,a="_sp_root_domain_test_"+new Date().getTime(),t="_test_value_"+new Date().getTime(),r=window.location.hostname.split("."),n=r.length-1;0<=n;){if(e=r.slice(n,r.length).join("."),s.cookie(a,t,0,"/",e),s.cookie(a)===t){c.deleteCookie(a,e);for(var i=c.getCookiesWithPrefix("_sp_root_domain_test_"),d=0;d<i.length;d++)c.deleteCookie(i[d],e);return e}n-=1}return window.location.hostname},c.isValueInArray=function(e,a){for(var t=0;t<a.length;t++)if(a[t]===e)return!0;return!1},c.deleteCookie=function(e,a){s.cookie(e,"",-1,"/",a)},c.getCookiesWithPrefix=function(e){for(var a=document.cookie.split("; "),t=[],n=0;n<a.length;n++)a[n].startsWith(e)&&t.push(a[n]);return t},c.parseInt=function(e){var a=parseInt(e);return isNaN(a)?void 0:a},c.parseFloat=function(e){var a=parseFloat(e);return isNaN(a)?void 0:a}})()},{"../lib_managed/lodash":23,"browser-cookie-lite":2}],22:[function(e,t,n){(function(){function a(e){return /^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/.test(e)}function t(e){var t,n;if(a(e))try{return t=document.body.children[0].children[0].children[0].children[0].children[0].children[0].innerHTML,n="You have reached the cached page for",t.slice(0,n.length)===n}catch(e){return!1}}function o(e,a){var t=/^(?:https?|ftp)(?::\/*(?:[^?]+))([?][^#]+)/.exec(e),n=r.fromQuerystring(a,t[1]);return n}var r=e("./helpers"),i="undefined"==typeof n?this:n;i.fixupUrl=function(e,a,n){return"translate.googleusercontent.com"===e?(""===n&&(n=a),a=o(a,"u"),e=r.getHostName(a)):("cc.bingj.com"===e||"webcache.googleusercontent.com"===e||t(e))&&(a=document.links[0].href,e=r.getHostName(a)),[e,a,n]}})()},{"./helpers":21}],23:[function(e,o,c){(function(e){(function(){function a(){return ie.pop()||[]}function d(e){return"function"!=typeof e.toString&&"string"==typeof(e+"")}function m(e){e.length=0,ie.length<40&&ie.push(e)}function b(e,a,t){a||(a=0),"undefined"==typeof t&&(t=e?e.length:0);for(var n=-1,o=t-a||0,r=Array(0>o?0:o);++n<o;)r[n]=e[a+n];return r}function C(){}function A(e){function a(){if(n){var e=b(n);ve.apply(e,arguments)}if(this instanceof a){var r=S(t.prototype),i=t.apply(r,e||arguments);return $(i)?i:r}return t.apply(o,e||arguments)}var t=e[0],n=e[2],o=e[4];return Ee(a,e),a}function _(e,t,n,o,r){if(n){var i=n(e);if("undefined"!=typeof i)return i}var s=$(e);if(s){var c=Z.call(e);if(!R[c]||!je.nodeClass&&d(e))return e;var l=Pe[c];switch(c){case"[object Boolean]":case"[object Date]":return new l(+e);case"[object Number]":case"[object String]":return new l(e);case"[object RegExp]":return i=l(e.source,ce.exec(e)),i.lastIndex=e.lastIndex,i;}}else return e;var u=Le(e);if(t){var p=!o;o||(o=a()),r||(r=a());for(var g=o.length;g--;)if(o[g]==e)return r[g];i=u?l(e.length):{}}else i=u?b(e):L({},e);return(u&&(y.call(e,"index")&&(i.index=e.index),y.call(e,"input")&&(i.input=e.input)),!t)?i:(o.push(e),r.push(i),(u?Ie:De)(e,function(e,a){i[a]=_(e,t,n,o,r)}),p&&(m(o),m(r)),i)}function S(e){return $(e)?w(e):{}}function B(e,a,t){if("function"!=typeof e)return oe;if("undefined"==typeof a||!("prototype"in e))return e;var n=e.__bindData__;if("undefined"==typeof n&&(je.funcNames&&(n=!e.name),n=n||!je.funcDecomp,!n)){var o=q.call(e);je.funcNames||(n=!de.test(o)),n||(n=le.test(o),Ee(e,n))}if(!1===n||!0!==n&&1&n[1])return e;return 1===t?function(t){return e.call(a,t)}:2===t?function(t,n){return e.call(a,t,n)}:3===t?function(t,n,o){return e.call(a,t,n,o)}:4===t?function(t,n,o,r){return e.call(a,t,n,o,r)}:x(e,a)}function z(e){function a(){var e=c?i:this;if(o){var m=b(o);ve.apply(m,arguments)}if((r||l)&&(m||(m=b(arguments)),r&&ve.apply(m,r),l&&m.length<s))return n|=16,z([t,u?n:-4&n,m,null,i,s]);if(m||(m=arguments),d&&(t=e[p]),this instanceof a){e=S(t.prototype);var g=t.apply(e,m);return $(g)?g:e}return t.apply(e,m)}var t=e[0],n=e[1],o=e[2],r=e[3],i=e[4],s=e[5],c=1&n,d=2&n,l=4&n,u=8&n,p=t;return Ee(a,e),a}function M(e,t,n,o,r,i){if(n){var s=n(e,t);if("undefined"!=typeof s)return!!s}if(e===t)return 0!==e||1/e==1/t;if(e===e&&!(e&&U[typeof e])&&!(t&&U[typeof t]))return!1;if(null==e||null==t)return e===t;var c=Z.call(e),l=Z.call(t);if("[object Arguments]"==c&&(c="[object Object]"),"[object Arguments]"==l&&(l="[object Object]"),c!=l)return!1;switch(c){case"[object Boolean]":case"[object Date]":return+e==+t;case"[object Number]":return e==+e?0==e?1/e==1/t:e==+t:t!=+t;case"[object RegExp]":case"[object String]":return e==t+"";}var u="[object Array]"==c;if(!u){var g=y.call(e,"__wrapped__"),h=y.call(t,"__wrapped__");if(g||h)return M(g?e.__wrapped__:e,h?t.__wrapped__:t,n,o,r,i);if("[object Object]"!=c||!je.nodeClass&&(d(e)||d(t)))return!1;var f=!je.argsObject&&O(e)?Object:e.constructor,b=!je.argsObject&&O(t)?Object:t.constructor;if(f!=b&&!(p(f)&&f instanceof f&&p(b)&&b instanceof b)&&"constructor"in e&&"constructor"in t)return!1}var A=!r;r||(r=a()),i||(i=a());for(var w=r.length;w--;)if(r[w]==e)return i[w]==t;var v=0;if(s=!0,r.push(e),i.push(t),!u)Ne(t,function(a,t,c){if(y.call(c,t))return v++,s=y.call(e,t)&&M(e[t],a,n,o,r,i)}),s&&!o&&Ne(e,function(e,a,t){if(y.call(t,a))return s=-1<--v});else if(w=e.length,v=t.length,s=v==w,s||o)for(;v--;){var T=w,x=t[v];if(o)for(;T--&&!(s=M(e[T],x,n,o,r,i)););else if(!(s=M(e[v],x,n,o,r,i)))break}return r.pop(),i.pop(),A&&(m(r),m(i)),s}function Q(e,a,t,n,o,r){var i=1&a,s=2&a,c=4&a,d=16&a,l=32&a;if(!s&&!p(e))throw new TypeError;d&&!t.length&&(a&=-17,d=t=!1),l&&!n.length&&(a&=-33,l=n=!1);var u=e&&e.__bindData__;if(u&&!0!==u)return u=b(u),u[2]&&(u[2]=b(u[2])),u[3]&&(u[3]=b(u[3])),i&&!(1&u[1])&&(u[4]=o),!i&&1&u[1]&&(a|=8),c&&!(4&u[1])&&(u[5]=r),d&&ve.apply(u[2]||(u[2]=[]),t),l&&Te.apply(u[3]||(u[3]=[]),n),u[1]|=a,Q.apply(null,u);var m=1==a||17===a?A:z;return m([e,a,t,n,o,r])}function F(){he.shadowedProps=h,he.array=he.bottom=he.loop=he.top="",he.init="iterable",he.useHas=!0;for(var e,a=0;e=arguments[a];a++)for(var t in e)he[t]=e[t];var o=he.args;he.firstArg=/^[^,]+/.exec(o)[0];var r=Function("baseCreateCallback, errorClass, errorProto, hasOwnProperty, indicatorObject, isArguments, isArray, isString, keys, objectProto, objectTypes, nonEnumProps, stringClass, stringProto, toString","return function("+o+") {\n"+Se(he)+"\n}");return r(B,"[object Error]",n,y,se,O,Le,E,he.keys,l,U,ae,"[object String]",Ae,Z)}function G(e){return"function"==typeof e&&we.test(e)}function O(e){return e&&"object"==typeof e&&"number"==typeof e.length&&Z.call(e)=="[object Arguments]"||!1}function X(e){var a=!0;if(!e)return a;var t=Z.call(e),n=e.length;return"[object Array]"==t||"[object String]"==t||(je.argsClass?"[object Arguments]"==t:O(e))||"[object Object]"==t&&"number"==typeof n&&p(e.splice)?!n:(De(e,function(){return a=!1}),a)}function p(e){return"function"==typeof e}function $(e){return!!(e&&U[typeof e])}function E(e){return"string"==typeof e||e&&"object"==typeof e&&Z.call(e)=="[object String]"||!1}function ee(e,a,t){var n=[];if(a=C.createCallback(a,t,3),Le(e))for(var o,r=-1,i=e.length;++r<i;)o=e[r],a(o,r,e)&&n.push(o);else Ie(e,function(e,t,o){a(e,t,o)&&n.push(e)});return n}function D(e,a,t){if(a=C.createCallback(a,t,3),Le(e)){for(var n,o=-1,r=e.length;++o<r;)if(n=e[o],a(n,o,e))return n;}else{var i;return Ie(e,function(e,t,n){if(a(e,t,n))return i=e,!1}),i}}function te(e,a,t){if(a&&"undefined"==typeof t&&Le(e))for(var n=-1,o=e.length;++n<o&&!1!==a(e[n],n,e););else Ie(e,a,t);return e}function ne(e,a,t){var n=-1,o=e?e.length:0,r=Array("number"==typeof o?o:0);if(a=C.createCallback(a,t,3),Le(e))for(;++n<o;)r[n]=a(e[n],n,e);else Ie(e,function(e,t,o){r[++n]=a(e,t,o)});return r}function x(e,a){return 2<arguments.length?Q(e,17,b(arguments,2),null,a):Q(e,1,null,null,a)}function oe(e){return e}function T(){}function re(e){return function(a){return a[e]}}var ie=[],se={},ce=/\w*$/,de=/^\s*function[ \n\r\t]+\w/,le=/\bthis\b/,h=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],K="[object Arguments]",j="[object Array]",H="[object Boolean]",ue="[object Date]",r="[object Function]",u="[object Number]",pe="[object Object]",me="[object RegExp]",ge="[object String]",R={};R[r]=!1,R[K]=R[j]=R[H]=R[ue]=R[u]=R[pe]=R[me]=R[ge]=!0;var W={configurable:!1,enumerable:!1,value:null,writable:!1},he={args:"",array:null,bottom:"",firstArg:"",init:"",keys:null,loop:"",shadowedProps:null,support:null,top:"",useHas:!1},U={boolean:!1,function:!0,object:!0,number:!1,string:!1,undefined:!1},fe=U[typeof window]&&window||this,ye=U[typeof c]&&c&&!c.nodeType&&c,v=U[typeof o]&&o&&!o.nodeType&&o,N=v&&v.exports===ye&&ye,be=U[typeof e]&&e;be&&(be.global===be||be.window===be)&&(fe=be);var ke=[],n=Error.prototype,l=Object.prototype,Ae=String.prototype,Z=l.toString,we=RegExp("^"+(Z+"").replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$"),q=Function.prototype.toString,y=l.hasOwnProperty,ve=ke.push,i=l.propertyIsEnumerable,Te=ke.unshift,xe=function(){try{var e={},a=G(a=Object.defineProperty)&&a,t=a(e,e,e)&&a}catch(e){}return t}(),w=G(w=Object.create)&&w,Ce=G(Ce=Array.isArray)&&Ce,_e=G(_e=Object.keys)&&_e,Pe={};Pe[j]=Array,Pe[H]=Boolean,Pe[ue]=Date,Pe[r]=Function,Pe[pe]=Object,Pe[u]=Number,Pe[me]=RegExp,Pe[ge]=String;var ae={};ae[j]=ae[ue]=ae[u]={constructor:!0,toLocaleString:!0,toString:!0,valueOf:!0},ae[H]=ae[ge]={constructor:!0,toString:!0,valueOf:!0},ae["[object Error]"]=ae[r]=ae[me]={constructor:!0,toString:!0},ae[pe]={constructor:!0},function(){for(var e=h.length;e--;){var a=h[e];for(var t in ae)y.call(ae,t)&&!y.call(ae[t],a)&&(ae[t][a]=!1)}}();var je=C.support={};(function(){var e=function(){this.x=1},a={0:1,length:1},t=[];for(var o in e.prototype={valueOf:1,y:1},new e)t.push(o);for(o in arguments);je.argsClass=Z.call(arguments)==K,je.argsObject=arguments.constructor==Object&&!(arguments instanceof Array),je.enumErrorProps=i.call(n,"message")||i.call(n,"name"),je.enumPrototypes=i.call(e,"prototype"),je.funcDecomp=!G(fe.WinRTError)&&le.test(function(){return this}),je.funcNames="string"==typeof Function.name,je.nonEnumArgs=0!=o,je.nonEnumShadows=!/valueOf/.test(t),je.spliceObjects=(ke.splice.call(a,0,1),!a[0]),je.unindexedChars="xx"!="x"+Object("x")[0];try{je.nodeClass=Z.call(document)!=pe||{toString:0}+""}catch(e){je.nodeClass=!0}})(1);var Se=function(e){var a="var index, iterable = "+e.firstArg+", result = "+e.init+";\nif (!iterable) return result;\n"+e.top+";";e.array?(a+="\nvar length = iterable.length; index = -1;\nif ("+e.array+") {  ",je.unindexedChars&&(a+="\n  if (isString(iterable)) {\n    iterable = iterable.split('')\n  }  "),a+="\n  while (++index < length) {\n    "+e.loop+";\n  }\n}\nelse {  "):je.nonEnumArgs&&(a+="\n  var length = iterable.length; index = -1;\n  if (length && isArguments(iterable)) {\n    while (++index < length) {\n      index += '';\n      "+e.loop+";\n    }\n  } else {  "),je.enumPrototypes&&(a+="\n  var skipProto = typeof iterable == 'function';\n  "),je.enumErrorProps&&(a+="\n  var skipErrorProps = iterable === errorProto || iterable instanceof Error;\n  ");var t=[];if(je.enumPrototypes&&t.push("!(skipProto && index == \"prototype\")"),je.enumErrorProps&&t.push("!(skipErrorProps && (index == \"message\" || index == \"name\"))"),e.useHas&&e.keys)a+="\n  var ownIndex = -1,\n      ownProps = objectTypes[typeof iterable] && keys(iterable),\n      length = ownProps ? ownProps.length : 0;\n\n  while (++ownIndex < length) {\n    index = ownProps[ownIndex];\n",t.length&&(a+="    if ("+t.join(" && ")+") {\n  "),a+=e.loop+";    ",t.length&&(a+="\n    }"),a+="\n  }  ";else if(a+="\n  for (index in iterable) {\n",e.useHas&&t.push("hasOwnProperty.call(iterable, index)"),t.length&&(a+="    if ("+t.join(" && ")+") {\n  "),a+=e.loop+";    ",t.length&&(a+="\n    }"),a+="\n  }    ",je.nonEnumShadows){for(a+="\n\n  if (iterable !== objectProto) {\n    var ctor = iterable.constructor,\n        isProto = iterable === (ctor && ctor.prototype),\n        className = iterable === stringProto ? stringClass : iterable === errorProto ? errorClass : toString.call(iterable),\n        nonEnum = nonEnumProps[className];\n      ",k=0;7>k;k++)a+="\n    index = '"+e.shadowedProps[k]+"';\n    if ((!(isProto && nonEnum[index]) && hasOwnProperty.call(iterable, index))",e.useHas||(a+=" || (!nonEnum[index] && iterable[index] !== objectProto[index])"),a+=") {\n      "+e.loop+";\n    }      ";a+="\n  }    "}return(e.array||je.nonEnumArgs)&&(a+="\n}"),a+=e.bottom+";\nreturn result",a};w||(S=function(){function e(){}return function(a){if($(a)){e.prototype=a;var t=new e;e.prototype=null}return t||fe.Object()}}());var Ee=xe?function(e,a){W.value=a,xe(e,"__bindData__",W)}:T;je.argsClass||(O=function(e){return e&&"object"==typeof e&&"number"==typeof e.length&&y.call(e,"callee")&&!i.call(e,"callee")||!1});var Le=Ce||function(e){return e&&"object"==typeof e&&"number"==typeof e.length&&Z.call(e)==j||!1},f=F({args:"object",init:"[]",top:"if (!(objectTypes[typeof object])) return result",loop:"result.push(index)"}),V=_e?function(e){return $(e)?je.enumPrototypes&&"function"==typeof e||je.nonEnumArgs&&e.length&&O(e)?f(e):_e(e):[]}:f,J={args:"collection, callback, thisArg",top:"callback = callback && typeof thisArg == 'undefined' ? callback : baseCreateCallback(callback, thisArg, 3)",array:"typeof length == 'number'",keys:V,loop:"if (callback(iterable[index], index, collection) === false) return result"},Oe={args:"object, source, guard",top:"var args = arguments,\n    argsIndex = 0,\n    argsLength = typeof guard == 'number' ? 2 : args.length;\nwhile (++argsIndex < argsLength) {\n  iterable = args[argsIndex];\n  if (iterable && objectTypes[typeof iterable]) {",keys:V,loop:"if (typeof result[index] == 'undefined') result[index] = iterable[index]",bottom:"  }\n}"},I={top:"if (!objectTypes[typeof iterable]) return result;\n"+J.top,array:!1},Ie=F(J),L=F(Oe,{top:Oe.top.replace(";",";\nif (argsLength > 3 && typeof args[argsLength - 2] == 'function') {\n  var callback = baseCreateCallback(args[--argsLength - 1], args[argsLength--], 2);\n} else if (argsLength > 2 && typeof args[argsLength - 1] == 'function') {\n  callback = args[--argsLength];\n}"),loop:"result[index] = callback ? callback(result[index], iterable[index]) : iterable[index]"}),Ne=F(J,I,{useHas:!1}),De=F(J,I);p(/x/)&&(p=function(e){return"function"==typeof e&&Z.call(e)==r}),C.assign=L,C.bind=x,C.compact=function(e){for(var a=-1,t=e?e.length:0,n=[];++a<t;){var o=e[a];o&&n.push(o)}return n},C.createCallback=function(e,a,t){var n=typeof e;if(null==e||"function"==n)return B(e,a,t);if("object"!=n)return re(e);var o=V(e),r=o[0],i=e[r];return 1!=o.length||i!==i||$(i)?function(a){for(var t=o.length,n=!1;t--&&!!(n=M(a[o[t]],e[o[t]],null,!0)););return n}:function(e){var a=e[r];return i===a&&(0!==i||1/i==1/a)}},C.filter=ee,C.forEach=te,C.forIn=Ne,C.forOwn=De,C.keys=V,C.map=ne,C.mapValues=function(e,a,t){var n={};return a=C.createCallback(a,t,3),De(e,function(e,t,o){n[t]=a(e,t,o)}),n},C.property=re,C.collect=ne,C.each=te,C.extend=L,C.select=ee,C.clone=function(e,a,t,n){return"boolean"!=typeof a&&null!=a&&(n=t,t=a,a=!1),_(e,a,"function"==typeof t&&B(t,n,1))},C.find=D,C.identity=oe,C.isArguments=O,C.isArray=Le,C.isDate=function(e){return e&&"object"==typeof e&&Z.call(e)=="[object Date]"||!1},C.isEmpty=X,C.isFunction=p,C.isNull=function(e){return null===e},C.isObject=$,C.isString=E,C.isUndefined=function(e){return"undefined"==typeof e},C.noop=T,C.detect=D,C.findWhere=D,C.VERSION="2.4.1",ye&&v&&N&&((v.exports=C)._=C)}).call(this)}).call(this,"undefined"==typeof global?"undefined"==typeof self?"undefined"==typeof window?{}:window:self:global)},{}],24:[function(e,t,n){var a=e("./lib_managed/lodash"),i=e("./lib/helpers"),o="undefined"==typeof n?this:n;o.getLinkTrackingManager=function(e,c,d){function s(t,n){for(var o,r,s,c,l,u;null!==(o=t.parentNode)&&!a.isUndefined(o)&&"A"!==(r=t.tagName.toUpperCase())&&"AREA"!==r;)t=o;if(!a.isUndefined(t.href)){var p=t.hostname||i.getHostName(t.href),g=p.toLowerCase(),h=t.href.replace(p,g);/^(javascript|vbscript|jscript|mocha|livescript|ecmascript|mailto):/i.test(h)||(s=t.id,c=i.getCssClasses(t),l=t.target,u=m?t.innerHTML:null,h=unescape(h),e.trackLinkClick(h,s,c,l,u,d(n)))}}function l(e){return function(a){var t,n;a=a||window.event,t=a.which||a.button,n=a.target||a.srcElement,"click"===a.type?n&&s(n,e):"mousedown"===a.type?(1===t||2===t)&&n?(f=t,b=n):f=b=null:"mouseup"===a.type&&(t===f&&n===b&&s(n,e),f=b=null)}}function r(e){p?(i.addEventListener(e,"mouseup",l(g),!1),i.addEventListener(e,"mousedown",l(g),!1)):i.addEventListener(e,"click",l(g),!1)}var u,p,m,g,f,b;return{configureLinkClickTracking:function(e,a,t,n){m=t,g=n,p=a,u=i.getFilter(e,!0)},addClickListeners:function(){var e,a=document.links;for(e=0;e<a.length;e++)u(a[e])&&!a[e][c]&&(r(a[e]),a[e][c]=!0)}}}},{"./lib/helpers":21,"./lib_managed/lodash":23}],25:[function(e,t,n){(function(){var a=e("JSON"),c=e("./lib_managed/lodash"),i=e("./lib/detectors").localStorageAccessible,t=e("./lib/helpers"),o="undefined"==typeof n?this:n;o.OutQueueManager=function(e,d,g,h,f,b,A){function m(e){var a="?",t={co:!0,cx:!0},n=!0;for(var o in e)e.hasOwnProperty(o)&&!t.hasOwnProperty(o)&&(n?n=!1:a+="&",a+=encodeURIComponent(o)+"="+encodeURIComponent(e[o]));for(var r in t)e.hasOwnProperty(r)&&t.hasOwnProperty(r)&&(a+="&"+r+"="+encodeURIComponent(e[r]));return a}function r(e){var t=c.mapValues(e,function(e){return e.toString()});return{evt:t,bytes:v(a.stringify(t))}}function v(e){for(var a,t=0,n=0;n<e.length;n++)a=e.charCodeAt(n),127>=a?t+=1:2047>=a?t+=2:55296<=a&&57343>=a?(t+=4,n++):65535>a?t+=3:t+=4;return t}function T(e,n){if(_=n+E,f){var i=r(e);if(i.bytes>=A){t.warn("Event of size "+i.bytes+" is too long - the maximum size is "+A);var c=x(_);return void c.send(C(s([i.evt])))}P.push(i)}else P.push(m(e));var d=!1;h&&(d=t.attemptWriteLocalStorage(o,a.stringify(P))),S||d&&!(P.length>=b)||w()}function w(){for(;P.length&&"string"!=typeof P[0]&&"object"!=typeof P[0];)P.shift();if(1>P.length)return void(S=!1);if(!c.isString(_))throw"No Snowplow collector configured, cannot track";S=!0;var e=P[0];if(f){var n=x(_),r=setTimeout(function(){n.abort(),S=!1},5e3),i=function(e){for(var a=0,t=0;a<e.length&&(t+=e[a].bytes,!(t>=A));)a+=1;return a}(P);n.onreadystatechange=function(){if(4===n.readyState&&200<=n.status&&400>n.status){for(var e=0;e<i;e++)P.shift();h&&t.attemptWriteLocalStorage(o,a.stringify(P)),clearTimeout(r),w()}else 4===n.readyState&&400<=n.status&&(clearTimeout(r),S=!1)};var d=c.map(P.slice(0,i),function(e){return e.evt});0<d.length&&n.send(C(s(d)))}else{var l=new Image(1,1);l.onload=function(){P.shift(),h&&t.attemptWriteLocalStorage(o,a.stringify(P)),w()},l.onerror=function(){S=!1};var u=-1<_.indexOf("?")?"&":"?";l.src=_+e.replace("?",u+"stm="+new Date().getTime()+"&")}}function x(e){var a=new XMLHttpRequest;return a.open("POST",e,!0),a.withCredentials=!0,a.setRequestHeader("Content-Type","application/json; charset=UTF-8"),a}function C(e){return a.stringify({schema:"iglu:com.snowplowanalytics.snowplow/payload_data/jsonschema/1-0-3",data:e})}function s(e){for(var a=new Date().getTime().toString(),t=0;t<e.length;t++)e[t].stm=a;return e}var o,_,P,S=!1;f=f&&window.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest;var E=f?"/com.snowplowanalytics.snowplow/tp2":"/i";if(b=i()&&h&&f&&b||1,o=["snowplowOutQueue",e,d,f?"post2":"get"].join("_"),h)try{P=a.parse(localStorage.getItem(o))}catch(e){}return c.isArray(P)||(P=[]),g.outQueues.push(P),f&&1<b&&g.bufferFlushers.push(function(){S||w()}),{enqueueRequest:T,executeQueue:w}}})()},{"./lib/detectors":20,"./lib/helpers":21,"./lib_managed/lodash":23,JSON:1}],26:[function(e,t,n){(function(){var a=e("./lib_managed/lodash"),t=e("./lib/helpers"),i=e("./in_queue"),c=e("./tracker"),o="undefined"==typeof n?this:n;o.Snowplow=function(e,d){function r(){var e;if(!n.hasLoaded)for(n.hasLoaded=!0,e=0;e<n.registeredOnLoadHandlers.length;e++)n.registeredOnLoadHandlers[e]();return!0}var s=document,l=window,n={outQueues:[],bufferFlushers:[],expireDateTime:null,hasLoaded:!1,registeredOnLoadHandlers:[]};return l.Snowplow={getTrackerCf:function(e){var a=new c.Tracker(d,"","js-2.6.1",n,{});return a.setCollectorCf(e),a},getTrackerUrl:function(e){var a=new c.Tracker(d,"","js-2.6.1",n,{});return a.setCollectorUrl(e),a},getAsyncTracker:function(){return new c.Tracker(d,"","js-2.6.1",n,{})}},t.addEventListener(l,"beforeunload",function(){var e;if(a.forEach(n.bufferFlushers,function(e){e()}),n.expireDateTime)do if(e=new Date,0===a.filter(n.outQueues,function(e){return 0<e.length}).length)break;while(e.getTime()<n.expireDateTime)},!1),function(){var e;s.addEventListener?t.addEventListener(s,"DOMContentLoaded",function e(){s.removeEventListener("DOMContentLoaded",e,!1),r()}):s.attachEvent&&(s.attachEvent("onreadystatechange",function e(){"complete"===s.readyState&&(s.detachEvent("onreadystatechange",e),r())}),s.documentElement.doScroll&&l===l.top&&function e(){if(!n.hasLoaded){try{s.documentElement.doScroll("left")}catch(a){return void setTimeout(e,0)}r()}}()),/WebKit/.test(navigator.userAgent)&&(e=setInterval(function(){(n.hasLoaded||/loaded|complete/.test(s.readyState))&&(clearInterval(e),r())},10)),t.addEventListener(l,"load",r,!1)}(),new i.InQueueManager(c.Tracker,"js-2.6.1",n,e,d)}})()},{"./in_queue":18,"./lib/helpers":21,"./lib_managed/lodash":23,"./tracker":27}],27:[function(e,t,c){(function(){var a=e("./lib_managed/lodash"),s=e("./lib/helpers"),m=e("./lib/proxies"),t=e("browser-cookie-lite"),g=e("./lib/detectors"),u=e("JSON"),l=e("sha1"),p=e("./links"),r=e("./forms"),h=e("./out_queue"),n=e("snowplow-tracker-core"),o=e("uuid"),d="undefined"==typeof c?this:c;d.Tracker=function(e,i,c,d,f,b){var Ee=Math.round;function T(){V=m.fixupUrl(B.domain,Ge.location.href,s.getReferrer()),V[1]!==Ze&&($e=s.getReferrer(Ze)),Xe=s.fixupDomain(V[0]),Ze=V[1]}function _(){var e=new Date().getTime();this.href&&(this.href=s.decorateQuerystring(this.href,"_sp",Je+"."+e))}function j(e){for(var a,t=0;t<document.links.length;t++)a=document.links[t],!a.spDecorationEnabled&&e(a)&&(s.addEventListener(a,"click",_,!0),s.addEventListener(a,"mousedown",_,!0),a.spDecorationEnabled=!0)}function y(){return{transaction:{},items:[]}}function D(e){var a;return Ue?(a=/#.*/,e.replace(a,"")):e}function q(e){var a=/^([a-z]+):/.exec(e);return a?a[1]:null}function $(e,a){var t,n=q(a);return n?a:"/"===a.slice(0,1)?q(e)+"://"+s.getHostName(e)+a:(e=D(e),0<=(t=e.indexOf("?"))&&(e=e.slice(0,t)),(t=e.lastIndexOf("/"))!==e.length-1&&(e=e.slice(0,t+1)),e+a)}function ee(e,a){var t=new Date;aa||(xa.enqueueRequest(e.build(),Oe),f.expireDateTime=t.getTime()+a)}function te(e){return oa+e+"."+Re}function P(e){return t.cookie(te(e))}function ne(){T(),Re=Aa((ra||Xe)+(ia||"/")).slice(0,4)}function oe(){var e=new Date;ze=e.getTime()}function re(){ce(),oe()}function ie(){var e=B.compatMode&&"BackCompat"!=B.compatMode?B.documentElement:B.body;return[e.scrollLeft||Ge.pageXOffset,e.scrollTop||Ge.pageYOffset]}function se(){var e=ie(),a=e[0];qe=a,Me=a;var t=e[1];He=t,Ve=t}function ce(){var e=ie(),a=e[0];a<qe?qe=a:a>Me&&(Me=a);var t=e[1];t<He?He=t:t>Ve&&(Ve=t)}function de(e){var a=Ee(e);if(!isNaN(a))return a}function X(){t.cookie(te("ses"),"*",da,ia,ra)}function le(e,a,n,o,r,i){t.cookie(te("id"),e+"."+a+"."+n+"."+o+"."+r+"."+i,ca,ia,ra)}function ue(){return o.v4()}function pe(){var e=ha&&!!P("ses"),a=C();a[1]?Je=a[1]:(Je=ue(),a[1]=Je),We=a[6],e||(a[3]++,We=o.v4(),a[6]=We,a[5]=a[4]),ha&&(X(),a[4]=Ee(new Date().getTime()/1e3),a.shift(),le.apply(null,a))}function C(){if(!ha)return[];var e,a=new Date,t=Ee(a.getTime()/1e3),n=P("id");return n?(e=n.split("."),e.unshift("0")):e=["1",Je,t,0,t,""],e[6]||(e[6]=o.v4()),e}function me(e){var a=Ee(new Date().getTime()/1e3),n=te("id"),r=te("ses"),i=P("ses"),s=C(),c=s[0],d=s[1],l=s[2],u=s[3],p=s[4],m=s[5],h=s[6];return aa&&ha?(t.cookie(n,"",-1,ia,ra),void t.cookie(r,"",-1,ia,ra)):void("0"===c?(We=h,!i&&ha&&(u++,m=p,We=o.v4()),wa=u):new Date().getTime()-ka>1e3*da&&(We=o.v4(),wa++),e.add("vp",g.detectViewport()),e.add("ds",g.detectDocumentSize()),e.add("vid",wa),e.add("sid",We),e.add("duid",d),e.add("fp",ya),e.add("uid",Ye),T(),e.add("refr",D(Le||$e)),e.add("url",D(Ie||Ze)),ha&&(le(d,l,wa,a,m,We),X()),ka=new Date().getTime())}function N(e){return ge(e+".cloudfront.net")}function ge(e){return pa?"https://"+e:ma?"http://"+e:("https:"===B.location.protocol?"https":"http")+"://"+e}function he(e){var a=Pa.concat(e||[]);if(_a.performanceTiming){var t=ye();t&&a.push(t)}if(window.optimizely){if(_a.optimizelyExperiments)for(var n=R(),o=0;o<n.length;o++)a.push(n[o]);if(_a.optimizelyStates)for(var r=ae(),o=0;o<r.length;o++)a.push(r[o]);if(_a.optimizelyVariations)for(var i=ke(),o=0;o<i.length;o++)a.push(i[o]);if(_a.optimizelyVisitor){var s=Ae();s&&a.push(s)}if(_a.optimizelyAudiences)for(var c=we(),o=0;o<c.length;o++)a.push(c[o]);if(_a.optimizelyDimensions)for(var d=S(),o=0;o<d.length;o++)a.push(d[o])}if(_a.augurIdentityLite){var l=ve();l&&a.push(l)}return a}function fe(){return{schema:"iglu:com.snowplowanalytics.snowplow/web_page/jsonschema/1-0-0",data:{id:d}}}function ye(){var e=["navigationStart","redirectStart","redirectEnd","fetchStart","domainLookupStart","domainLookupEnd","connectStart","secureConnectionStart","connectEnd","requestStart","responseStart","responseEnd","unloadEventStart","unloadEventEnd","domLoading","domInteractive","domContentLoadedEventStart","domContentLoadedEventEnd","domComplete","loadEventStart","loadEventEnd","msFirstPaint","chromeFirstPaint","requestEnd","proxyStart","proxyEnd"],a=Ge.performance||Ge.mozPerformance||Ge.msPerformance||Ge.webkitPerformance;if(a){var t={};for(var n in a.timing)s.isValueInArray(n,e)&&(t[n]=a.timing[n]);return delete t.requestEnd,Ge.chrome&&Ge.chrome.loadTimes&&"number"==typeof Ge.chrome.loadTimes().firstPaintTime&&(t.chromeFirstPaint=Ee(1e3*Ge.chrome.loadTimes().firstPaintTime)),{schema:"iglu:org.w3/PerformanceTiming/jsonschema/1-0-0",data:t}}}function R(){var e=window.optimizely.data.experiments;if(e){var a=[];for(var t in e)if(e.hasOwnProperty(t)){var n={id:t},o=e[t];n.code=o.code,n.manual=o.manual,n.conditional=o.conditional,n.name=o.name,n.variationIds=o.variation_ids,a.push({schema:"iglu:com.optimizely/experiment/jsonschema/1-0-0",data:n})}return a}return[]}function ae(){var e=[],a=window.optimizely.data.experiments;if(a)for(var t in a)a.hasOwnProperty(t)&&e.push(t);var n=window.optimizely.data.state;if(n){for(var o=[],r=n.activeExperiments||[],i=0;i<e.length;i++){var c=e[i],d={};d.experimentId=c,d.isActive=s.isValueInArray(e[i],r);var l=n.variationMap||{};d.variationIndex=l[c];var u=n.variationNamesMap||{};d.variationName=u[c];var p=n.variationIdsMap||{};p[c]&&1===p[c].length&&(d.variationId=p[c][0]),o.push({schema:"iglu:com.optimizely/state/jsonschema/1-0-0",data:d})}return o}return[]}function ke(){var e=window.optimizely.data.variations;if(e){var a=[];for(var t in e)if(e.hasOwnProperty(t)){var n={id:t},o=e[t];n.name=o.name,n.code=o.code,a.push({schema:"iglu:com.optimizely/variation/jsonschema/1-0-0",data:n})}return a}return[]}function Ae(){var e=window.optimizely.data.visitor;if(e){var a={browser:e.browser,browserVersion:e.browserVersion,device:e.device,deviceType:e.deviceType,ip:e.ip},t=e.platform||{};a.platformId=t.id,a.platformVersion=t.version;var n=e.location||{};return a.locationCity=n.city,a.locationRegion=n.region,a.locationCountry=n.country,a.mobile=e.mobile,a.mobileId=e.mobileId,a.referrer=e.referrer,a.os=e.os,{schema:"iglu:com.optimizely/visitor/jsonschema/1-0-0",data:a}}}function we(){var e=window.optimizely.data.visitor.audiences;if(e){var a=[];for(var t in e)if(e.hasOwnProperty(t)){var n={};n.id=t,n.isMember=e[t],a.push({schema:"iglu:com.optimizely/visitor_audience/jsonschema/1-0-0",data:n})}return a}return[]}function S(){var e=window.optimizely.data.visitor.dimensions;if(e){var a=[];for(var t in e)if(e.hasOwnProperty(t)){var n={};n.id=t,n.value=e[t],a.push({schema:"iglu:com.optimizely/visitor_dimension/jsonschema/1-0-0",data:n})}return a}return[]}function ve(){var e=window.augur;if(e){var a={consumer:{},device:{}},t=e.consumer||{};a.consumer.UUID=t.UID;var n=e.device||{};a.device.ID=n.ID,a.device.isBot=n.isBot,a.device.isProxied=n.isProxied,a.device.isTor=n.isTor;var o=n.fingerprint||{};return a.device.isIncognito=o.browserHasIncognitoEnabled,{schema:"iglu:io.augur.snowplow/identity_lite/jsonschema/1-0-0",data:a}}}function Te(){!Ca&&Ke.geolocation&&Ke.geolocation.getCurrentPosition&&(Ca=!0,navigator.geolocation.getCurrentPosition(function(e){var a=e.coords,t={schema:"iglu:com.snowplowanalytics.snowplow/geolocation_context/jsonschema/1-1-0",data:{latitude:a.latitude,longitude:a.longitude,latitudeLongitudeAccuracy:a.accuracy,altitude:a.altitude,altitudeAccuracy:a.altitudeAccuracy,bearing:a.heading,speed:a.speed,timestamp:e.timestamp}};Pa.push(t)}))}function xe(){var e={};return a.forEach(["__utma","__utmb","__utmc","__utmv","__utmz","_ga"],function(a){var n=t.cookie(a);n&&(e[a]=n)}),{schema:"iglu:com.google.analytics/cookies/jsonschema/1-0-0",data:e}}function I(e,a){return(e||[]).concat(a?a():[])}function Ce(e,a,t){T(),ta=B.title,Ne=e;var n=s.fixupTitle(Ne||ta);Qe.trackPageView(D(Ie||Ze),n,D(Le||$e),he(I(a,t)));var o=new Date;De&&Fe&&!O&&(O=!0,se(),s.addEventListener(B,"click",oe),s.addEventListener(B,"mouseup",oe),s.addEventListener(B,"mousedown",oe),s.addEventListener(B,"mousemove",oe),s.addEventListener(B,"mousewheel",oe),s.addEventListener(Ge,"DOMMouseScroll",oe),s.addEventListener(Ge,"scroll",re),s.addEventListener(B,"keypress",oe),s.addEventListener(B,"keydown",oe),s.addEventListener(B,"keyup",oe),s.addEventListener(Ge,"resize",oe),s.addEventListener(Ge,"focus",oe),s.addEventListener(Ge,"blur",oe),ze=o.getTime(),setInterval(function(){var e=new Date;ze+Fe>e.getTime()&&De<e.getTime()&&_e(I(a,t))},Fe))}function _e(e){T(),newDocumentTitle=B.title,newDocumentTitle!==ta&&(ta=newDocumentTitle,Ne=null),Qe.trackPagePing(D(Ie||Ze),s.fixupTitle(Ne||ta),D(Le||$e),de(qe),de(Me),de(He),de(Ve),he(e)),se()}function u(e,a,t,n,o,r,i,s,c,d){Qe.trackEcommerceTransaction(e,a,t,n,o,r,i,s,c,he(d))}function Pe(e,a,t,n,o,r,i,s){Qe.trackEcommerceTransactionItem(e,a,t,n,o,r,i,he(s))}function je(e,a){return""===e?a:e+a.charAt(0).toUpperCase()+a.slice(1)}function Se(e){var a,t,n,o=["","webkit","ms","moz"];if(!Be)for(t=0;t<o.length;t++)if(n=o[t],B[je(n,"hidden")]){"prerender"===B[je(n,"visibilityState")]&&(a=!0);break}return a?void s.addEventListener(B,n+"visibilitychange",function a(){B.removeEventListener(n+"visibilitychange",a,!1),e()}):void e()}var Le,Oe,Ie,Ne,De,Fe,Ue,Be,ze,qe,Me,He,Ve,Re,Je,We,Ye,Qe=n(!0,function(e){me(e),ee(e,na)}),B=document,Ge=window,Ke=navigator,V=m.fixupUrl(B.domain,Ge.location.href,s.getReferrer()),Xe=s.fixupDomain(V[0]),Ze=V[1],$e=V[2],b=b||{},ea=b.hasOwnProperty("platform")?b.platform:"web",L=b.hasOwnProperty("appId")?b.appId:"",ta=B.title,na=b.hasOwnProperty("pageUnloadTimer")?b.pageUnloadTimer:500,oa=b.hasOwnProperty("cookieName")?b.cookieName:"_sp_",ra=b.hasOwnProperty("cookieDomain")?b.cookieDomain:null,ia="/",sa=Ke.doNotTrack||Ke.msDoNotTrack||Ge.doNotTrack,aa=!!b.hasOwnProperty("respectDoNotTrack")&&b.respectDoNotTrack&&("yes"===sa||"1"===sa),ca=63072e3,da=b.hasOwnProperty("sessionCookieTimeout")?b.sessionCookieTimeout:1800,la=b.hasOwnProperty("userFingerprintSeed")?b.userFingerprintSeed:123412414,ua=B.characterSet||B.charset,pa=!!b.hasOwnProperty("forceSecureTracker")&&!0===b.forceSecureTracker,ma=!pa&&b.hasOwnProperty("forceUnsecureTracker")&&!0===b.forceUnsecureTracker,ga=!b.hasOwnProperty("useLocalStorage")||b.useLocalStorage,ha=!b.hasOwnProperty("useCookies")||b.useCookies,fa=Ke.userLanguage||Ke.language,K=g.detectBrowserFeatures(ha,te("testcookie")),ya=!1===b.userFingerprint?"":g.detectSignature(la),ba=e+"_"+i,O=!1,ka=new Date().getTime(),Aa=l,wa=1,va=y(),Ta=p.getLinkTrackingManager(Qe,ba,he),w=r.getFormTrackingManager(Qe,ba,he),xa=new h.OutQueueManager(e,i,f,ga,b.post,b.bufferSize,b.maxPostBytes||4e4),Ca=!1,_a=b.contexts||{},Pa=[],ja=[];for(var v in b.hasOwnProperty("discoverRootDomain")&&b.discoverRootDomain&&(ra=s.findRootDomain()),_a.webPage&&Pa.push(fe()),_a.gaCookies&&Pa.push(xe()),_a.geolocation&&Te(),Qe.setBase64Encoding(!b.hasOwnProperty("encodeBase64")||b.encodeBase64),Qe.setTrackerVersion(c),Qe.setTrackerNamespace(i),Qe.setAppId(L),Qe.setPlatform(ea),Qe.setTimezone(g.detectTimezone()),Qe.addPayloadPair("lang",fa),Qe.addPayloadPair("cs",ua),K)Object.prototype.hasOwnProperty.call(K,v)&&("res"===v||"cd"===v||"cookie"===v?Qe.addPayloadPair(v,K[v]):Qe.addPayloadPair("f_"+v,K[v]));return ne(),pe(),b.crossDomainLinker&&j(b.crossDomainLinker),{getUserId:function(){return Ye},getDomainUserId:function(){return C()[1]},getDomainUserInfo:function(){return C()},getUserFingerprint:function(){return ya},setAppId:function(e){s.warn("setAppId is deprecated. Instead add an \"appId\" field to the argmap argument of newTracker."),Qe.setAppId(e)},setReferrerUrl:function(e){Le=e},setCustomUrl:function(e){T(),Ie=$(Ze,e)},setDocumentTitle:function(e){ta=B.title,Ne=e},discardHashTag:function(e){Ue=e},setCookieNamePrefix:function(e){s.warn("setCookieNamePrefix is deprecated. Instead add a \"cookieName\" field to the argmap argument of newTracker."),oa=e},setCookieDomain:function(e){s.warn("setCookieDomain is deprecated. Instead add a \"cookieDomain\" field to the argmap argument of newTracker."),ra=s.fixupDomain(e),ne()},setCookiePath:function(e){ia=e,ne()},setVisitorCookieTimeout:function(e){ca=e},setSessionCookieTimeout:function(e){s.warn("setSessionCookieTimeout is deprecated. Instead add a \"sessionCookieTimeout\" field to the argmap argument of newTracker."),da=e},setUserFingerprintSeed:function(e){s.warn("setUserFingerprintSeed is deprecated. Instead add a \"userFingerprintSeed\" field to the argmap argument of newTracker."),la=e,ya=g.detectSignature(la)},enableUserFingerprint:function(e){s.warn("enableUserFingerprintSeed is deprecated. Instead add a \"userFingerprint\" field to the argmap argument of newTracker."),e||(ya="")},respectDoNotTrack:function(e){s.warn("This usage of respectDoNotTrack is deprecated. Instead add a \"respectDoNotTrack\" field to the argmap argument of newTracker.");var a=Ke.doNotTrack||Ke.msDoNotTrack;aa=e&&("yes"===a||"1"===a)},crossDomainLinker:function(e){j(e)},addListener:function(e,a,t){addClickListener(e,a,t)},enableLinkClickTracking:function(e,a,t,n){f.hasLoaded?(Ta.configureLinkClickTracking(e,a,t,n),Ta.addClickListeners()):f.registeredOnLoadHandlers.push(function(){Ta.configureLinkClickTracking(e,a,t,n),Ta.addClickListeners()})},refreshLinkClickTracking:function(){f.hasLoaded?Ta.addClickListeners():f.registeredOnLoadHandlers.push(function(){Ta.addClickListeners()})},enableActivityTracking:function(e,a){De=new Date().getTime()+1e3*e,Fe=1e3*a},enableFormTracking:function(e,a){f.hasLoaded?(w.configureFormTracking(e),w.addFormListeners(a)):f.registeredOnLoadHandlers.push(function(){w.configureFormTracking(e),w.addFormListeners(a)})},killFrame:function(){Ge.location!==Ge.top.location&&(Ge.top.location=Ge.location)},redirectFile:function(e){"file:"===Ge.location.protocol&&(Ge.location=e)},setCountPreRendered:function(e){Be=e},setUserId:function(e){Ye=e},setUserIdFromLocation:function(e){T(),Ye=s.fromQuerystring(e,Ze)},setUserIdFromReferrer:function(e){T(),Ye=s.fromQuerystring(e,$e)},setUserIdFromCookie:function(e){Ye=t.cookie(e)},setCollectorCf:function(e){Oe=N(e)},setCollectorUrl:function(e){Oe=ge(e)},setPlatform:function(e){s.warn("setPlatform is deprecated. Instead add a \"platform\" field to the argmap argument of newTracker."),Qe.setPlatform(e)},encodeBase64:function(e){s.warn("This usage of encodeBase64 is deprecated. Instead add an \"encodeBase64\" field to the argmap argument of newTracker."),Qe.setBase64Encoding(e)},flushBuffer:function(){xa.executeQueue()},enableGeolocationContext:Te,trackPageView:function(e,a,t){Se(function(){Ce(e,a,t)})},trackStructEvent:function(e,a,t,n,o,r){Qe.trackStructEvent(e,a,t,n,o,he(r))},trackUnstructEvent:function(e,a){Qe.trackUnstructEvent(e,he(a))},addTrans:function(e,a,t,n,o,r,i,s,c,d){va.transaction={orderId:e,affiliation:a,total:t,tax:n,shipping:o,city:r,state:i,country:s,currency:c,context:d}},addItem:function(e,a,t,n,o,r,i,s){va.items.push({orderId:e,sku:a,name:t,category:n,price:o,quantity:r,currency:i,context:s})},trackTrans:function(){u(va.transaction.orderId,va.transaction.affiliation,va.transaction.total,va.transaction.tax,va.transaction.shipping,va.transaction.city,va.transaction.state,va.transaction.country,va.transaction.currency,va.transaction.context);for(var e,a=0;a<va.items.length;a++)e=va.items[a],Pe(e.orderId,e.sku,e.name,e.category,e.price,e.quantity,e.currency,e.context);va=y()},trackLinkClick:function(e,a,t,n,o,r){Se(function(){Qe.trackLinkClick(e,a,t,n,o,he(r))})},trackAdImpression:function(e,a,t,n,o,r,i,s,c){Se(function(){Qe.trackAdImpression(e,a,t,n,o,r,i,s,he(c))})},trackAdClick:function(e,a,t,n,o,r,i,s,c,d){Qe.trackAdClick(e,a,t,n,o,r,i,s,c,he(d))},trackAdConversion:function(e,a,t,n,o,r,i,s,c,d){Qe.trackAdConversion(e,a,t,n,o,r,i,s,c,he(d))},trackSocialInteraction:function(e,a,t,n){Qe.trackSocialInteraction(e,a,t,he(n))},trackAddToCart:function(e,a,t,n,o,r,i){Qe.trackAddToCart(e,a,t,n,o,r,he(i))},trackRemoveFromCart:function(e,a,t,n,o,r,i){Qe.trackRemoveFromCart(e,a,t,n,o,r,he(i))},trackSiteSearch:function(e,a,t,n,o){Qe.trackSiteSearch(e,a,t,n,he(o))},trackTiming:function(e,a,t,n,o){Qe.trackUnstructEvent({schema:"iglu:com.snowplowanalytics.snowplow/timing/jsonschema/1-0-0",data:{category:e,variable:a,timing:t,label:n}},he(o))},trackEnhancedEcommerceAction:function(e,a){var t=ja.concat(a||[]);ja.length=0,Qe.trackUnstructEvent({schema:"iglu:com.google.analytics.enhanced-ecommerce/action/jsonschema/1-0-0",data:{action:e}},he(t))},addEnhancedEcommerceActionContext:function(e,a,t,n,o,r,i,c,d,l){ja.push({schema:"iglu:com.google.analytics.enhanced-ecommerce/actionFieldObject/jsonschema/1-0-0",data:{id:e,affiliation:a,revenue:s.parseFloat(t),tax:s.parseFloat(n),shipping:s.parseFloat(o),coupon:r,list:i,step:s.parseInt(c),option:d,currency:l}})},addEnhancedEcommerceImpressionContext:function(e,a,t,n,o,r,i,c,d){ja.push({schema:"iglu:com.google.analytics.enhanced-ecommerce/impressionFieldObject/jsonschema/1-0-0",data:{id:e,name:a,list:t,brand:n,category:o,variant:r,position:s.parseInt(i),price:s.parseFloat(c),currency:d}})},addEnhancedEcommerceProductContext:function(e,a,t,n,o,r,i,c,d,l,u){ja.push({schema:"iglu:com.google.analytics.enhanced-ecommerce/productFieldObject/jsonschema/1-0-0",data:{id:e,name:a,list:t,brand:n,category:o,variant:r,price:s.parseFloat(i),quantity:s.parseInt(c),coupon:d,position:s.parseInt(l),currency:u}})},addEnhancedEcommercePromoContext:function(e,a,t,n,o){ja.push({schema:"iglu:com.google.analytics.enhanced-ecommerce/promoFieldObject/jsonschema/1-0-0",data:{id:e,name:a,creative:t,position:n,currency:o}})}}}})()},{"./forms":17,"./lib/detectors":20,"./lib/helpers":21,"./lib/proxies":22,"./lib_managed/lodash":23,"./links":24,"./out_queue":25,JSON:1,"browser-cookie-lite":2,sha1:7,"snowplow-tracker-core":8,uuid:16}]},{},[19]);
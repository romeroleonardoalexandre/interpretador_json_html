/*!
 * jQuery Form Plugin
 * version: 3.51.0-2014.06.20
 * Requires jQuery v1.5 or later
 * Copyright (c) 2014 M. Alsup
 * Examples and documentation at: http://malsup.com/jquery/form/
 * Project repository: https://github.com/malsup/form
 * Dual licensed under the MIT and GPL licenses.
 * https://github.com/malsup/form#copyright-and-license
 */!function(a){"use strict";"function"==typeof define&&define.amd?define(["jquery"],a):a("undefined"==typeof jQuery?window.Zepto:jQuery)}(function(q){"use strict";function b(a){var b=a.data;a.isDefaultPrevented()||(a.preventDefault(),q(a.target).ajaxSubmit(b))}function c(b){var c=b.target,d=q(c);if(!d.is("[type=submit],[type=image]")){var a=d.closest("[type=submit]");if(0===a.length)return;c=a[0]}var e=this;if(e.clk=c,"image"==c.type)if(void 0!==b.offsetX)e.clk_x=b.offsetX,e.clk_y=b.offsetY;else if("function"==typeof q.fn.offset){var f=d.offset();e.clk_x=b.pageX-f.left,e.clk_y=b.pageY-f.top}else e.clk_x=b.pageX-c.offsetLeft,e.clk_y=b.pageY-c.offsetTop;setTimeout(function(){e.clk=e.clk_x=e.clk_y=null},100)}function z(){if(q.fn.ajaxSubmit.debug){var a="[jquery.form] "+Array.prototype.join.call(arguments,"");window.console&&window.console.log?window.console.log(a):window.opera&&window.opera.postError&&window.opera.postError(a)}}var e={fileapi:void 0!==q("<input type='file'/>").get(0).files,formdata:void 0!==window.FormData},a=!!q.fn.prop;q.fn.attr2=function(){if(!a)return this.attr.apply(this,arguments);var b=this.prop.apply(this,arguments);return b&&b.jquery||"string"==typeof b?b:this.attr.apply(this,arguments)},q.fn.ajaxSubmit=function(B){function C(b){var c,d,e=q.param(b,B.traditional).split("&"),f=e.length,g=[];for(c=0;f>c;c++)e[c]=e[c].replace(/\+/g," "),d=e[c].split("="),g.push([decodeURIComponent(d[0]),decodeURIComponent(d[1])]);return g}function i(b){for(var a=new FormData,d=0;d<b.length;d++)a.append(b[d].name,b[d].value);if(B.extraData){var e=C(B.extraData);for(d=0;d<e.length;d++)e[d]&&a.append(e[d][0],e[d][1])}B.data=null;var f=q.extend(!0,{},q.ajaxSettings,B,{contentType:!1,processData:!1,cache:!1,type:F||"POST"});B.uploadProgress&&(f.xhr=function(){var a=q.ajaxSettings.xhr();return a.upload&&a.upload.addEventListener("progress",function(b){var c=0,d=b.loaded||b.position,a=b.total;b.lengthComputable&&(c=Math.ceil(100*(d/a))),B.uploadProgress(b,d,a,c)},!1),a}),f.data=null;var g=f.beforeSend;return f.beforeSend=function(b,c){c.data=B.formData?B.formData:a,g&&g.call(this,b,c)},q.ajax(f)}function n(e){function I(a){var b=null;try{a.contentWindow&&(b=a.contentWindow.document)}catch(a){z("cannot get iframe.contentWindow document: "+a)}if(b)return b;try{b=a.contentDocument?a.contentDocument:a.document}catch(c){z("cannot get iframe.contentDocument: "+c),b=a.document}return b}function f(){function a(){try{var b=I(K).readyState;z("state = "+b),b&&"uninitialized"==b.toLowerCase()&&setTimeout(a,50)}catch(a){z("Server abort: ",a," (",a.name,")"),n(D),Q&&clearTimeout(Q),Q=void 0}}var b=G.attr2("target"),e=G.attr2("action"),f=G.attr("enctype")||G.attr("encoding")||"multipart/form-data";R.setAttribute("target",o),(!F||/post/i.test(F))&&R.setAttribute("method","POST"),e!=s.url&&R.setAttribute("action",s.url),s.skipEncodingOverride||F&&!/post/i.test(F)||G.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"}),s.timeout&&(Q=setTimeout(function(){P=!0,n(S)},s.timeout));var c=[];try{if(s.extraData)for(var g in s.extraData)s.extraData.hasOwnProperty(g)&&c.push(q.isPlainObject(s.extraData[g])&&s.extraData[g].hasOwnProperty("name")&&s.extraData[g].hasOwnProperty("value")?q("<input type=\"hidden\" name=\""+s.extraData[g].name+"\">").val(s.extraData[g].value).appendTo(R)[0]:q("<input type=\"hidden\" name=\""+g+"\">").val(s.extraData[g]).appendTo(R)[0]);s.iframeTarget||u.appendTo("body"),K.attachEvent?K.attachEvent("onload",n):K.addEventListener("load",n,!1),setTimeout(a,15);try{R.submit()}catch(a){var d=document.createElement("form").submit;d.apply(R)}}finally{R.setAttribute("action",e),R.setAttribute("enctype",f),b?R.setAttribute("target",b):G.removeAttr("target"),q(c).remove()}}function n(a){if(!N.aborted&&!V){if(U=I(K),U||(z("cannot access response document"),a=D),a===S&&N)return N.abort("timeout"),void w.reject(N,"timeout");if(a==D&&N)return N.abort("server abort"),void w.reject(N,"error","server abort");if(U&&U.location.href!=s.iframeSrc||P){K.detachEvent?K.detachEvent("onload",n):K.removeEventListener("load",n,!1);var b,d="success";try{if(P)throw"timeout";var e="xml"==s.dataType||U.XMLDocument||q.isXMLDoc(U);if(z("isXml="+e),!e&&window.opera&&(null===U.body||!U.body.innerHTML)&&--W)return z("requeing onLoad callback, DOM not available"),void setTimeout(n,250);var g=U.body?U.body:U.documentElement;N.responseText=g?g.innerHTML:null,N.responseXML=U.XMLDocument?U.XMLDocument:U,e&&(s.dataType="xml"),N.getResponseHeader=function(a){var b={"content-type":s.dataType};return b[a.toLowerCase()]},g&&(N.status=+g.getAttribute("status")||N.status,N.statusText=g.getAttribute("statusText")||N.statusText);var j=(s.dataType||"").toLowerCase(),c=/(json|script|text)/.test(j);if(c||s.textarea){var k=U.getElementsByTagName("textarea")[0];if(k)N.responseText=k.value,N.status=+k.getAttribute("status")||N.status,N.statusText=k.getAttribute("statusText")||N.statusText;else if(c){var f=U.getElementsByTagName("pre")[0],l=U.getElementsByTagName("body")[0];f?N.responseText=f.textContent?f.textContent:f.innerText:l&&(N.responseText=l.textContent?l.textContent:l.innerText)}}else"xml"==j&&!N.responseXML&&N.responseText&&(N.responseXML=Y(N.responseText));try{L=C(N,j,s)}catch(a){d="parsererror",N.error=b=a||d}}catch(a){z("error caught: ",a),d="error",N.error=b=a||d}N.aborted&&(z("upload aborted"),d=null),N.status&&(d=200<=N.status&&300>N.status||304===N.status?"success":"error"),"success"===d?(s.success&&s.success.call(s.context,L,"success",N),w.resolve(N.responseText,"success",N),J&&q.event.trigger("ajaxSuccess",[N,s])):d&&(void 0===b&&(b=N.statusText),s.error&&s.error.call(s.context,N,d,b),w.reject(N,"error",b),J&&q.event.trigger("ajaxError",[N,s,b])),J&&q.event.trigger("ajaxComplete",[N,s]),J&&! --q.active&&q.event.trigger("ajaxStop"),s.complete&&s.complete.call(s.context,N,d),V=!0,s.timeout&&clearTimeout(Q),setTimeout(function(){s.iframeTarget?u.attr("src",s.iframeSrc):u.remove(),N.responseXML=null},100)}}}var h,i,s,J,o,u,K,N,r,t,P,Q,R=G[0],w=q.Deferred();if(w.abort=function(a){N.abort(a)},e)for(i=0;i<H.length;i++)h=q(H[i]),a?h.prop("disabled",!1):h.removeAttr("disabled");if(s=q.extend(!0,{},q.ajaxSettings,B),s.context=s.context||s,o="jqFormIO"+new Date().getTime(),s.iframeTarget?(u=q(s.iframeTarget),t=u.attr2("name"),t?o=t:u.attr2("name",o)):(u=q("<iframe name=\""+o+"\" src=\""+s.iframeSrc+"\" />"),u.css({position:"absolute",top:"-1000px",left:"-1000px"})),K=u[0],N={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(a){var b="timeout"===a?"timeout":"aborted";z("aborting upload... "+b),this.aborted=1;try{K.contentWindow.document.execCommand&&K.contentWindow.document.execCommand("Stop")}catch(a){}u.attr("src",s.iframeSrc),N.error=b,s.error&&s.error.call(s.context,N,b,a),J&&q.event.trigger("ajaxError",[N,s,b]),s.complete&&s.complete.call(s.context,N,b)}},J=s.global,J&&0==q.active++&&q.event.trigger("ajaxStart"),J&&q.event.trigger("ajaxSend",[N,s]),s.beforeSend&&!1===s.beforeSend.call(s.context,N,s))return s.global&&q.active--,w.reject(),w;if(N.aborted)return w.reject(),w;r=R.clk,r&&(t=r.name,t&&!r.disabled&&(s.extraData=s.extraData||{},s.extraData[t]=r.value,"image"==r.type&&(s.extraData[t+".x"]=R.clk_x,s.extraData[t+".y"]=R.clk_y)));var S=1,D=2,k=q("meta[name=csrf-token]").attr("content"),A=q("meta[name=csrf-param]").attr("content");A&&k&&(s.extraData=s.extraData||{},s.extraData[A]=k),s.forceSync?f():setTimeout(f,10);var L,U,V,W=50,Y=q.parseXML||function(a,b){return window.ActiveXObject?(b=new ActiveXObject("Microsoft.XMLDOM"),b.async="false",b.loadXML(a)):b=new DOMParser().parseFromString(a,"text/xml"),b&&b.documentElement&&"parsererror"!=b.documentElement.nodeName?b:null},X=q.parseJSON||function(a){return window.eval("("+a+")")},C=function(b,c,d){var a=b.getResponseHeader("content-type")||"",e="xml"===c||!c&&0<=a.indexOf("xml"),f=e?b.responseXML:b.responseText;return e&&"parsererror"===f.documentElement.nodeName&&q.error&&q.error("parsererror"),d&&d.dataFilter&&(f=d.dataFilter(f,c)),"string"==typeof f&&("json"===c||!c&&0<=a.indexOf("json")?f=X(f):("script"===c||!c&&0<=a.indexOf("javascript"))&&q.globalEval(f)),f};return w}if(!this.length)return z("ajaxSubmit: skipping submit process - no element selected"),this;var F,o,r,G=this;"function"==typeof B?B={success:B}:void 0===B&&(B={}),F=B.type||this.attr2("method"),o=B.url||this.attr2("action"),r="string"==typeof o?q.trim(o):"",r=r||window.location.href||"",r&&(r=(r.match(/^([^#]+)/)||[])[1]),B=q.extend(!0,{url:r,success:q.ajaxSettings.success,type:F||q.ajaxSettings.type,iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},B);var f={};if(this.trigger("form-pre-serialize",[this,B,f]),f.veto)return z("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),this;if(B.beforeSerialize&&!1===B.beforeSerialize(this,B))return z("ajaxSubmit: submit aborted via beforeSerialize callback"),this;var m=B.traditional;void 0===m&&(m=q.ajaxSettings.traditional);var s,H=[],h=this.formToArray(B.semantic,H);if(B.data&&(B.extraData=B.data,s=q.param(B.data,m)),B.beforeSubmit&&!1===B.beforeSubmit(h,this,B))return z("ajaxSubmit: submit aborted via beforeSubmit callback"),this;if(this.trigger("form-submit-validate",[h,this,B,f]),f.veto)return z("ajaxSubmit: submit vetoed via form-submit-validate trigger"),this;var v=q.param(h,m);s&&(v=v?v+"&"+s:s),"GET"==B.type.toUpperCase()?(B.url+=(0<=B.url.indexOf("?")?"&":"?")+v,B.data=null):B.data=v;var I=[];if(B.resetForm&&I.push(function(){G.resetForm()}),B.clearForm&&I.push(function(){G.clearForm(B.includeHidden)}),!B.dataType&&B.target){var x=B.success||function(){};I.push(function(b){var c=B.replaceTarget?"replaceWith":"html";q(B.target)[c](b).each(x,arguments)})}else B.success&&I.push(B.success);if(B.success=function(b,c,d){for(var a=B.context||this,e=0,f=I.length;f>e;e++)I[e].apply(a,[b,c,d||G,G])},B.error){var y=B.error;B.error=function(b,c,d){var a=B.context||this;y.apply(a,[b,c,d,G])}}if(B.complete){var b=B.complete;B.complete=function(c,d){var e=B.context||this;b.apply(e,[c,d,G])}}var J=q("input[type=file]:enabled",this).filter(function(){return""!==q(this).val()}),j=0<J.length,w=G.attr("enctype")=="multipart/form-data"||G.attr("encoding")=="multipart/form-data",D=e.fileapi&&e.formdata;z("fileAPI :"+D);var k;!1!==B.iframe&&(B.iframe||(j||w)&&!D)?B.closeKeepAlive?q.get(B.closeKeepAlive,function(){k=n(h)}):k=n(h):k=(j||w)&&D?i(h):q.ajax(B),G.removeData("jqxhr").data("jqxhr",k);for(var K=0;K<H.length;K++)H[K]=null;return this.trigger("form-submit-notify",[this,B]),this},q.fn.ajaxForm=function(a){if(a=a||{},a.delegation=a.delegation&&q.isFunction(q.fn.on),!a.delegation&&0===this.length){var d={s:this.selector,c:this.context};return!q.isReady&&d.s?(z("DOM not ready, queuing ajaxForm"),q(function(){q(d.s,d.c).ajaxForm(a)}),this):(z("terminating; zero elements found by selector"+(q.isReady?"":" (DOM not ready)")),this)}return a.delegation?(q(document).off("submit.form-plugin",this.selector,b).off("click.form-plugin",this.selector,c).on("submit.form-plugin",this.selector,a,b).on("click.form-plugin",this.selector,a,c),this):this.ajaxFormUnbind().bind("submit.form-plugin",a,b).bind("click.form-plugin",a,c)},q.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")},q.fn.formToArray=function(b,j){var k=[];if(0===this.length)return k;var a,n=this[0],o=this.attr("id"),r=b?n.getElementsByTagName("*"):n.elements;if(r&&!/MSIE [678]/.test(navigator.userAgent)&&(r=q(r).get()),o&&(a=q(":input[form=\""+o+"\"]").get(),a.length&&(r=(r||[]).concat(a))),!r||!r.length)return k;var s,t,w,y,z,A,B;for(s=0,A=r.length;A>s;s++)if(z=r[s],w=z.name,w&&!z.disabled)if(b&&n.clk&&"image"==z.type)n.clk==z&&(k.push({name:w,value:q(z).val(),type:z.type}),k.push({name:w+".x",value:n.clk_x},{name:w+".y",value:n.clk_y}));else if(y=q.fieldValue(z,!0),y&&y.constructor==Array)for(j&&j.push(z),t=0,B=y.length;B>t;t++)k.push({name:w,value:y[t]});else if(e.fileapi&&"file"==z.type){j&&j.push(z);var C=z.files;if(C.length)for(t=0;t<C.length;t++)k.push({name:w,value:C[t],type:z.type});else k.push({name:w,value:"",type:z.type})}else null!==y&&"undefined"!=typeof y&&(j&&j.push(z),k.push({name:w,value:y,type:z.type,required:z.required}));if(!b&&n.clk){var v=q(n.clk),g=v[0];w=g.name,w&&!g.disabled&&"image"==g.type&&(k.push({name:w,value:v.val()}),k.push({name:w+".x",value:n.clk_x},{name:w+".y",value:n.clk_y}))}return k},q.fn.formSerialize=function(a){return q.param(this.formToArray(a))},q.fn.fieldSerialize=function(b){var c=[];return this.each(function(){var d=this.name;if(d){var a=q.fieldValue(this,b);if(a&&a.constructor==Array)for(var e=0,f=a.length;f>e;e++)c.push({name:d,value:a[e]});else null!==a&&"undefined"!=typeof a&&c.push({name:this.name,value:a})}}),q.param(c)},q.fn.fieldValue=function(b){for(var c=[],d=0,e=this.length;e>d;d++){var f=this[d],g=q.fieldValue(f,b);null!==g&&"undefined"!=typeof g&&(g.constructor!=Array||g.length)&&(g.constructor==Array?q.merge(c,g):c.push(g))}return c},q.fieldValue=function(b,e){var g=b.name,a=b.type,h=b.tagName.toLowerCase();if(void 0===e&&(e=!0),e&&(!g||b.disabled||"reset"==a||"button"==a||("checkbox"==a||"radio"==a)&&!b.checked||("submit"==a||"image"==a)&&b.form&&b.form.clk!=b||"select"==h&&-1==b.selectedIndex))return null;if("select"==h){var i=b.selectedIndex;if(0>i)return null;for(var j,k=[],n=b.options,o="select-one"==a,c=o?i+1:n.length,l=o?i:0;c>l;l++)if(j=n[l],j.selected){var p=j.value;if(p||(p=j.attributes&&j.attributes.value&&!j.attributes.value.specified?j.text:j.value),o)return p;k.push(p)}return k}return q(b).val()},q.fn.clearForm=function(a){return this.each(function(){q("input,select,textarea",this).clearFields(a)})},q.fn.clearFields=q.fn.clearInputs=function(b){return this.each(function(){var c=this.type,a=this.tagName.toLowerCase();/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i.test(c)||"textarea"==a?this.value="":"checkbox"==c||"radio"==c?this.checked=!1:"select"==a?this.selectedIndex=-1:"file"==c?/MSIE/.test(navigator.userAgent)?q(this).replaceWith(q(this).clone(!0)):q(this).val(""):b&&(!0===b&&/hidden/.test(c)||"string"==typeof b&&q(this).is(b))&&(this.value="")})},q.fn.resetForm=function(){return this.each(function(){"function"!=typeof this.reset&&("object"!=typeof this.reset||this.reset.nodeType)||this.reset()})},q.fn.enable=function(a){return void 0===a&&(a=!0),this.each(function(){this.disabled=!a})},q.fn.selected=function(b){return void 0===b&&(b=!0),this.each(function(){var c=this.type;if("checkbox"==c||"radio"==c)this.checked=b;else if("option"==this.tagName.toLowerCase()){var d=q(this).parent("select");b&&d[0]&&"select-one"==d[0].type&&d.find("option").selected(!1),this.selected=b}})},q.fn.ajaxSubmit.debug=!1});